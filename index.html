<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bandwidth API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="javascript">NodeJS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://bandwidth.com/products/application-platform/?utm_medium=social&utm_source=docs&utm_campaign=dtolb&utm_content=_'>Create an API Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="get-started">Get Started</h1>

<p>Before you can send your first SMS message, you will need to</p>

<p><a href="http://bandwidth.com/products/application-platform/?utm_medium=social&amp;utm_source=docs&amp;utm_campaign=dtolb&amp;utm_content=_">Sign up</a> for a free Bandwidth API account.
Get a number under the “My Numbers” tab (more specific instructions here)</p>

<h1 id="send-your-first-sms-message">Send your first SMS Message</h1>

<p>To send your first SMS message we have included instructions for using Postman, a helpful program for testing APIs <a href="https://www.getpostman.com/">download</a>, and also code that can be found further down this page.</p>

          <h1 id="intelligence-services">Intelligence Services</h1>

<p>Use number intelligence to block traffic from spammers and fraudsters. This feature is in beta. Early access will begin in Q3. Email signup@bandwidth.com to obtain early access.</p>

<h2 id="number-intelligence-properties">Number Intelligence Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The telephone number in E.164 format. <code class="prettyprint">+13334445555</code></td>
</tr>
<tr>
<td style="text-align: left">nationalNumber</td>
<td style="text-align: left">The telephone number in a friendly national format, e.g. (555) 555-5555</td>
</tr>
<tr>
<td style="text-align: left">carrier</td>
<td style="text-align: left">The company who provides the service for this number.</td>
</tr>
<tr>
<td style="text-align: left">lineType</td>
<td style="text-align: left">The type of service provided on this number. Options include: <code class="prettyprint">landline</code>, <code class="prettyprint">fixed_voip</code>, <code class="prettyprint">non_fixed_voip</code>, <code class="prettyprint">mobile</code>,<code class="prettyprint">voicemail</code>, <code class="prettyprint">tollfree</code>, <code class="prettyprint">premium</code>, <code class="prettyprint">other</code>.</td>
</tr>
<tr>
<td style="text-align: left">reputationScore</td>
<td style="text-align: left">Measures the risk of the number being associated with spam / fraudulent behavior. Valid values between 1 - 4.</td>
</tr>
<tr>
<td style="text-align: left">riskType</td>
<td style="text-align: left">Type of risk this number is associated with. Types include <code class="prettyprint">spam</code>, <code class="prettyprint">risk</code>, <code class="prettyprint">not_applicable</code>.</td>
</tr>
<tr>
<td style="text-align: left">riskCategory</td>
<td style="text-align: left">Category of risk associated with the number. Categories include: <code class="prettyprint">not_spam</code>, <code class="prettyprint">debt_collector</code> ,<code class="prettyprint">telemarketer</code>, <code class="prettyprint">political_call</code>, <code class="prettyprint">phone_survey</code>, <code class="prettyprint">phishing,extortion</code>, <code class="prettyprint">irs_scam</code>, <code class="prettyprint">tax_scam</code>, <code class="prettyprint">tech_support_scam</code>, <code class="prettyprint">vacation_scam</code>, <code class="prettyprint">lucky_winner_scam</code>, <code class="prettyprint">scam</code>, <code class="prettyprint">tollfree_pumping</code>, <code class="prettyprint">other_spam.</code></td>
</tr>
</tbody></table>

<h2 id="get-intelligenceservices">GET intelligenceServices</h2>

<p>This resource will provide number intelligence data for the number provided.</p>

<table><thead>
<tr>
<th><code class="prettyprint">GET</code></th>
<th>/v1/users/{user-id}/intelligenceServices/number/{number}</th>
</tr>
</thead><tbody>
</tbody></table>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">PARAMETER</th>
<th style="text-align: left">DESCRIPTION</th>
<th style="text-align: left">MANDATORY</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">reputation</td>
<td style="text-align: left">Includes number reputation information.</td>
<td style="text-align: left">no</td>
</tr>
</tbody></table>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/intelligenceServices/number/15554446666?reputation<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number":"5554446666",
        "nationalNumber":"+15554446666",
        "carrier": "AT&amp;T Wireless",
        "lineType": "Mobile",
        "reputationScore": "4",
        "riskType": "Spam",
        "riskCategory": "Phishing"
    }
]
</code></pre>

          <h1 id="account">Account</h1>

<p>The Account API allows you to retrieve your current balance, transaction list, account type and all elements related to your platform account.</p>

<table><thead>
<tr>
<th style="text-align: left"><code class="prettyprint">GET</code></th>
<th style="text-align: left">/v1/users/{userId}/account</th>
<th style="text-align: left">Get information about your account</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">GET</code></td>
<td style="text-align: left">/v1/users/{userId}/account/transactions</td>
<td style="text-align: left">Get a list of the transactions made to your account</td>
</tr>
</tbody></table>

<h2 id="account-properties">Account Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">balance</td>
<td style="text-align: left">Your account balance in dollars, as a string; the currency symbol is not included.</td>
</tr>
<tr>
<td style="text-align: left">accountType</td>
<td style="text-align: left">The type of account configured for your user:   <strong>pre-pay</strong>: the type of account where you increase your available balance with credit card payments.</td>
</tr>
</tbody></table>

<h2 id="transaction-properties">Transaction Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique identifier for the transaction.</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the transaction was processed.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">The transaction amount in dollars, as a string; the currency symbol is not included.</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">The type of transaction.</td>
</tr>
<tr>
<td style="text-align: left">units</td>
<td style="text-align: left">The number of product units the transaction charged or credited.</td>
</tr>
<tr>
<td style="text-align: left">productType</td>
<td style="text-align: left">The product the transaction was related to (not all transactions are related to a product).</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The phone number the transaction was related to (not all transactions are related to a phone number).</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of transactions. If no value is specified the default is 0.</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of transactions. If no value is specified the default value is 25 (maximum value 1000).</td>
</tr>
</tbody></table>

<h2 id="transaction-types">Transaction Types</h2>

<table><thead>
<tr>
<th style="text-align: left">TYPE</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">charge</td>
<td style="text-align: left">A charge for the use of a service or resource (for example, phone calls, SMS messages, phone numbers).</td>
</tr>
<tr>
<td style="text-align: left">payment</td>
<td style="text-align: left">A payment you made to increase your account balance.</td>
</tr>
<tr>
<td style="text-align: left">credit</td>
<td style="text-align: left">An increase to your account balance that you did not pay for (for example, an initial account credit or promotion).</td>
</tr>
<tr>
<td style="text-align: left">auto-recharge</td>
<td style="text-align: left">An automated payment made to keep your account balance above the minimum balance you configured.</td>
</tr>
</tbody></table>

<h2 id="product-types">Product Types</h2>

<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">local-number-per-month</td>
<td style="text-align: left">The monthly charge for a local phone number.</td>
</tr>
<tr>
<td style="text-align: left">toll-free-number-per-month</td>
<td style="text-align: left">The monthly charge for a toll-free phone number.</td>
</tr>
<tr>
<td style="text-align: left">sms-in</td>
<td style="text-align: left">A SMS message that came in to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">sms-out</td>
<td style="text-align: left">A SMS message that was sent outbound one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">mms-in</td>
<td style="text-align: left">A MMS message that was sent to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">mms-out</td>
<td style="text-align: left">A MMS message that was sent outbound one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">call-in</td>
<td style="text-align: left">An inbound phone call to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">call-out</td>
<td style="text-align: left">An outbound phone call that was created by your app.</td>
</tr>
<tr>
<td style="text-align: left">sip-call-in</td>
<td style="text-align: left">A phone call that came inbound via SIP to one of your registered endpoints.</td>
</tr>
<tr>
<td style="text-align: left">sip-call-out</td>
<td style="text-align: left">A phone call made outbound to a SIP address.</td>
</tr>
<tr>
<td style="text-align: left">transcription</td>
<td style="text-align: left">A transcription of a recorded call.</td>
</tr>
<tr>
<td style="text-align: left">cnam-search</td>
<td style="text-align: left">A CNAM lookup request for a phone number.</td>
</tr>
</tbody></table>

<h2 id="get-account">GET account</h2>

<p>Get an Account object. No query parameters are supported.</p>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">get</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">info</span><span class="p">){});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">info</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"538.37250"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre-pay"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="get-account-transactions">GET account/transactions</h2>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxItems</td>
<td style="text-align: left">Limit the number of transactions that will be returned.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">toDate</td>
<td style="text-align: left">Return only transactions that are newer than the parameter. Format: &ldquo;yyyy-MM-dd&rsquo;T&#39;HH:mm:ssZ&rdquo;</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fromDate</td>
<td style="text-align: left">Return only transactions that are older than the parameter. Format: &ldquo;yyyy-MM-dd&rsquo;T&#39;HH:mm:ssZ&rdquo;</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Return only transactions that are this type.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of transactions. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of transactions. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">Return only transactions that are from the specified number. (coming soon)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-transactions">Example: Get transactions</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId1}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  },
  {
    "id": "{transactionId2}",
    "time": "2013-02-21T13:37:42.079Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-by-date">Example: Get transactions by date</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?fromDate<span class="o">=</span>2013-02-21T13:38:00 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions filtering by date</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fromDate</span><span class="p">:</span> <span class="s2">"2013-02-21T13:38:00"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-filtering-by-date">Example: Get transactions filtering by date</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?toDate<span class="o">=</span>2013-02-21T13:40:00&amp;fromDate<span class="o">=</span>2013-02-21T13:38:00 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions filtering by date</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fromDate</span><span class="p">:</span> <span class="s2">"2013-02-21T13:38:00"</span><span class="p">,</span>
    <span class="na">toDate</span><span class="p">:</span>   <span class="s2">"2013-02-21T13:40:00"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-limiting-result">Example: Get transactions limiting result</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?maxItems<span class="o">=</span>1 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions limiting result</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">maxItems</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-of-payment-type">Example: Get transactions of payment type</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?type<span class="o">=</span>Payment <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions of `payment` type</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"Payment"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId1}",
    "time": "2013-02-15T18:43:50.602Z",
    "amount": "1000.00000",
    "type": "payment",
    "units": "0"
  },
  {
    "id": "{transactionId2}",
    "time": "2013-02-05T14:56:51.279Z",
    "amount": "5000.00000",
    "type": "payment",
    "units": "0"
  }
]
</code></pre>

          <h1 id="applications">Applications</h1>

<p>The Applications resource lets you define call and message handling applications. You write an application on your own servers and have Bandwidth API send events to it by configuring a callback URL.</p>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique identifier for the application.</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call. This is the endpoint where the Application Platform will send all call events. Either incomingCallUrl or incomingMessageUrl is required.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. Values are &ldquo;get&rdquo; or &ldquo;post&rdquo;, default: &ldquo;post&rdquo;.</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &lsquo;true&rsquo;.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound message. This is the endpoint where the Application Platform will send all message events. Either incomingMessageUrl or incomingCallUrl is required.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
</tr>
</tbody></table>

<h2 id="get-applications">GET applications</h2>

<p>Get a list of your applications</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of applications. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of applications. If no value is specified the default value is 25. (Maximum value 1000)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-your-applications">Example: List your applications.</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/applications <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">applications</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span><span class="na">applications</span><span class="p">:</span> <span class="p">[]};</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">applications</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{applicationId}",
    "name": "MyFirstApp",
    "incomingCallUrl": "http://example.com/calls.php",
    "incomingMessageUrl": "http://example.com/messages.php",
    "autoAnswer": true
  },
  {
    "id": "{applicationId}",
    "name": "MySecondApp",
    "incomingCallUrl": "http://example.com/app2/calls.php",
    "incomingMessageUrl": "http://example.com/app2/messages.php",
    "autoAnswer": false
  }
]
</code></pre>

<h2 id="post-applications">POST applications</h2>

<p>Creates an application that can handle calls and messages for one of your phone number. Many phone numbers can share an application.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound SMS message</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. (If not set the default is HTTP POST)</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &#39;true&rsquo;.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-an-application-named-39-myfirstapp-39">Example: Create an application named: &#39;MyFirstApp&rsquo;</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"name": "MyFirstApp", "incomingCallUrl": "http://example.com/calls.php", "incomingMessageUrl": "http://example.com/messages.php", "callbackHttpMethod": "GET", "autoAnswer": true}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'MyFirstApp'</span><span class="p">,</span>
    <span class="na">incomingCallUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/CallCallback'</span><span class="p">,</span>
    <span class="na">incomingMessageUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/MsgCallback'</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'SampleApp2'</span><span class="p">,</span>
    <span class="na">incomingCallUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/CallCallback'</span><span class="p">,</span>
    <span class="na">incomingMessageUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/MsgCallback'</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<h2 id="get-applications-applicationid">GET applications/{applicationId}</h2>

<p>Gets information about one of your applications. No query parameters are supported.</p>

<h3 id="example-get-an-application-39-s-information">Example: Get an application&rsquo;s information</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'a-j4f2jz53mq'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'a-zuwwfzzrbea'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{applicationId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyFirstApp"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"incomingCallUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/calls.php"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"incomingMessageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/messages.php"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoAnswer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-applications-applicationid">POST applications/{applicationId}</h2>

<p>Makes changes to an application. POST a new JSON representation with the property values you desire to the URL that you got back in the &ldquo;Location&rdquo; header when you first created it.</p>

<aside class="notice">
NOTE: Properties you don&rsquo;t send will remain unchanged.
</aside>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound SMS message.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. (If not set the default is HTTP POST).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &#39;true&rsquo;.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-update-application">Example: Update Application</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"incomingCallUrl": "http://different.example.com/calls.php"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s1">'a-j4f2j6vjmqz53mq'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Rename App1'</span><span class="p">,</span>
    <span class="na">autoAnswer</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s1">'a-zudcfzzrbea'</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="s1">'Rename App2'</span><span class="p">,</span>
        <span class="na">autoAnswer</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<h2 id="delete-applications-applicationid">DELETE applications/{applicationId}</h2>

<p>Permanently deletes an application.</p>

<h3 id="example-delete-an-application">Example: Delete an application.</h3>
<pre class="highlight shell"><code>curl -v -X DELETE https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">'a-j4f2j6mqz53mq'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">'a-zuwwzrbea'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

          <h1 id="available-numbers">Available Numbers</h1>

<p>The Available Numbers resource lets you search for numbers that are available for use with your application.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The telephone number in E.164 format.</td>
</tr>
<tr>
<td style="text-align: left">nationalNumber</td>
<td style="text-align: left">The telephone number in a friendly national format.</td>
</tr>
<tr>
<td style="text-align: left">patternMatch</td>
<td style="text-align: left">The telephone number in a friendly national format with some numbers replaced by letters if a pattern was used to search the number.</td>
</tr>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">The city of the phone number.</td>
</tr>
<tr>
<td style="text-align: left">lata</td>
<td style="text-align: left">Local access and transport area (LATA), represents an area within which a regional operating company is permitted to offer exchange telecommunications and exchange access services.</td>
</tr>
<tr>
<td style="text-align: left">rateCenter</td>
<td style="text-align: left">The rate center is a term used to identify a telephone local exchange service area.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The state of the phone number.</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">The monthly price for the phone number.</td>
</tr>
</tbody></table>

<h2 id="get-availablenumbers-local">GET availableNumbers/local</h2>

<p>Searches for available local numbers by location or pattern criteria.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">A city name.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">A two-letter US state abbreviation (&ldquo;CA&rdquo; for California).</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">A 5-digit US ZIP code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">areaCode</td>
<td style="text-align: left">A 3-digit telephone area code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">localNumber</td>
<td style="text-align: left">It is defined as the first digits of a telephone number inside an area code for filtering the results. It must have at least 3 digits and the areaCode field must be filled.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">inLocalCallingArea</td>
<td style="text-align: left">Boolean value to indicate that the search for available numbers must consider overlayed areas. Only applied for localNumber searching.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters: <br> ? : matches any single digit <br> * : matches zero or more digits<br> Don&rsquo;t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
** state, zip and areaCode are mutually exclusive, you may use only one of them per request.
</aside>

<aside class="notice">
*** localNumber and inLocalCallingArea only applies for searching numbers in specific areaCode.
</aside>

<h3 id="example-search-for-city-state-and-pattern">Example: Search for City/State and Pattern</h3>

<blockquote>
<p>To find up to two available local numbers in the city of Cary, North Carolina, that match the pattern &ldquo;<em>2?9</em>&rdquo;, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Search 3 available local phone numbers with area code 910</span>

<span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">3</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">3</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "number": "{number1}",
    "nationalNumber": "{national_number1}",
    "patternMatch": "          2 9 ",
    "city": "CARY",
    "lata": "426",
    "rateCenter": "CARY",
    "state": "NC",
    "price": "0.60"
  },
  {
    "number": "{number2}",
    "nationalNumber": "{national_number2}",
    "patternMatch": "          2 9 ",
    "city": "CARY",
    "lata": "426",
    "rateCenter": "CARY",
    "state": "NC",
    "price": "0.60"
  }
]
</code></pre>

<h3 id="example-search-with-areacode-and-localnumber">Example: Search with areaCode and localNumber</h3>

<blockquote>
<p>To find up to two available local numbers in the area code 919 which the numbers begins with 867 and inside overlayed areas, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "city": "RALEIGH",
        "rateCenter": "RALEIGH",
        "state": "NC",
        "price": "0.60"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "city": "RALEIGH",
        "rateCenter": "RALEIGH",
        "state": "NC",
        "price": "0.60"
    }
]
</code></pre>

<h2 id="post-availablenumbers-local">POST availableNumbers/local</h2>

<p>Searches and order available local numbers by location criteria.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">A city name.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">A two-letter US state abbreviation (&ldquo;CA&rdquo; for California).</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">A 5-digit US ZIP code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">areaCode</td>
<td style="text-align: left">A 3-digit telephone area code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">localNumber</td>
<td style="text-align: left">It is defined as the first digits of a telephone number inside an area code for filtering the results. It must have at least 3 digits and the areaCode field must be filled.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">inLocalCallingArea</td>
<td style="text-align: left">Boolean value to indicate that the search for available numbers must consider overlayed areas. Only applied for localNumber searching.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters: <br> ? : matches any single digit <br> * : matches zero or more digits<br> Don&rsquo;t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
** state, zip and areaCode are mutually exclusive, you may use only one of them per request.
</aside>

<aside class="notice">
*** localNumber and inLocalCallingArea only applies for searching numbers in specific areaCode.
</aside>

<h3 id="example-search-and-allocate-for-city-state">Example: Search and allocate for city/state</h3>

<blockquote>
<p>To search and order two available local numbers in the city of Cary, North Carolina, make the following request</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X POST  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Search 2 available local phone numbers with area code 910 and order them</span>

<span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">serchAndOrder</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns a <code class="prettyprint">201</code> response JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "price": "0.60",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId1}"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "price": "0.60",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId2}"
    }
]
</code></pre>

<h2 id="get-availablenumbers-tollfree">GET availableNumbers/tollFree</h2>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters:<br>? : matches any single digit<br> * : matches zero or more digits<br>Don’t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<blockquote>
<p>To find up to two available toll free numbers that match the pattern &ldquo;<em>2?9</em>&rdquo;, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/tollFree?pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">pattern</span><span class="p">:</span> <span class="s2">"*2?9*"</span>
 <span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">pattern</span><span class="p">:</span> <span class="s2">"*2?9*"</span> <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "number":"{number1}",
    "nationalNumber":"{national_number1}",
    "patternMatch":"        2  9  ",
    "price":"2.00"
  },
  {
    "number":"{number2}",
    "nationalNumber":"{national_number2}",
    "patternMatch":"          2 9 ",
    "price":"2.00"
  }
]
</code></pre>

<h2 id="post-availablenumbers-tollfree">POST availableNumbers/tollFree</h2>

<p>Searches and order available Toll Free numbers.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum quantity of numbers for searching and order (default 1, maximum 10).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-search-and-activate-toll-free-phone-number">Example: Search and activate toll free phone number</h3>

<blockquote>
<p>To search and order two available toll free numbers, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X POST  https://api.catapult.inetwork.com/v1/availableNumbers/tollFree?quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Search and order tollfree numbers</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns a <code class="prettyprint">201</code> response JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "price": "2.00",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId1}"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "price": "2.00",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId2}"
    }
]
</code></pre>

          <h1 id="bridges">Bridges</h1>

<p>The Bridges resource allows you to bridge two calls together allowing for two way audio between them. A common example is bridging an incoming phone call together with a outgoing phone call.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique ID of the bridge.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Bridge state. Possible state values are described here.</td>
</tr>
<tr>
<td style="text-align: left">callIds</td>
<td style="text-align: left">List of call Ids that will be in the bridge.</td>
</tr>
<tr>
<td style="text-align: left">calls</td>
<td style="text-align: left">The URL used to retrieve the calls in a specific bridge.</td>
</tr>
<tr>
<td style="text-align: left">bridgeAudio</td>
<td style="text-align: left">Enable/Disable two way audio path.</td>
</tr>
<tr>
<td style="text-align: left">completedTime</td>
<td style="text-align: left">The time when the bridge was completed.</td>
</tr>
<tr>
<td style="text-align: left">createdTime</td>
<td style="text-align: left">The time that bridge was created.</td>
</tr>
<tr>
<td style="text-align: left">activatedTime</td>
<td style="text-align: left">The time that the bridge got into active state.</td>
</tr>
</tbody></table>

<h2 id="bridge-state">Bridge state</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">created</td>
<td style="text-align: left">The bridge was created but the audio was never bridged.</td>
</tr>
<tr>
<td style="text-align: left">active</td>
<td style="text-align: left">The bridge has two active calls and the audio was already bridged before.</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">The bridge calls are on hold (bridgeAudio was set to false).</td>
</tr>
<tr>
<td style="text-align: left">completed</td>
<td style="text-align: left">The bridge was completed. The bridge is completed when all calls hangup or when all calls are removed from bridge.</td>
</tr>
<tr>
<td style="text-align: left">error</td>
<td style="text-align: left">Some error was detected in bridge.</td>
</tr>
</tbody></table>

<h2 id="get-bridges">GET bridges</h2>

<p>Get list of bridges for a given user.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of bridges. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of bridges. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-of-a-user-39-s-bridges">Example: List of a user&rsquo;s bridges</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/bridges/transations <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">bridges</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span><span class="na">bridges</span><span class="p">:</span> <span class="p">[]};</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">bridges</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{bridgeId}",
    "state": "completed",
    "bridgeAudio": "true",
    "calls":"https://.../v1/users/{userId}/bridges/{bridgeId}/calls",
    "createdTime": "2013-04-22T13:55:30.279Z",
    "activatedTime": "2013-04-22T13:55:30.280Z",
    "completedTime": "2013-04-22T13:56:30.122Z"
  },
  {
    "id": "{bridgeId}",
    "state": "completed",
    "bridgeAudio": "true",
    "calls":"https://.../v1/users/{userId}/bridges/{bridgeId}/calls",
    "createdTime": "2013-04-22T13:58:30.121Z",
    "activatedTime": "2013-04-22T13:58:30.122Z",
    "completedTime": "2013-04-22T13:59:30.122Z"
  }
]
</code></pre>

<h2 id="post-bridges">POST bridges</h2>

<p>Create a new bridge.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bridgeAudio</td>
<td style="text-align: left">Enable/Disable two way audio path (default = true).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callIds</td>
<td style="text-align: left">The list of call ids in the bridge. If the list of call ids is not provided the bridge is logically created and it can be used to place calls later.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-a-bridge-with-two-calls-and-two-way-voice-path">Example: Create a bridge with two calls and two way voice path</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"bridgeAudio": "true", "callIds": ["{callId1}","{callId2}"] }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbs5kwrsyx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g74pprsq'</span><span class="p">]</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbsx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g7prsq'</span><span class="p">]</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Status structured like this:
<code class="prettyprint">
HTTP/1.1 201 Created
Location: /v1/users/{userId}/calls/{bridgeId}
</code></p>
</blockquote>

<h3 id="example-create-a-bridge-without-calls">Example: Create a bridge without calls</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"bridgeAudio": "true" }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbs5kwrsyx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g74pprsq'</span><span class="p">]</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Status structured like this:
<code class="prettyprint">
HTTP/1.1 201 Created
Location: /v1/users/{userId}/calls/{bridgeId}
</code></p>
</blockquote>

<h2 id="get-bridges-bridgeid">GET bridges/{bridgeId}</h2>

<p>Gets information about a specific bridge. No query parameters are supported.</p>

<h3 id="example-get-information-about-a-bridge">Example: Get information about a bridge</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'brg-65dhjwrmbasiei'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'brg-65dhmbasiei'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{bridgeId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bridgeAudio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"calls"</span><span class="p">:</span><span class="s2">"https://.../v1/users/{userId}/bridges/{bridgeId}/calls"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:55:30.279Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"activatedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:55:30.280Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:59:30.122Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-bridges-bridgeid">POST bridges/{bridgeId}</h2>

<p>Change calls in a bridge and bridge/unbridge the audio.</p>

<h3 id="example-add-call-callid1-and-call-callid2-in-a-bridge-bridgeid-with-two-way-voice-path">Example: Add call {callId1} and call {callId2} in a bridge {bridgeId} with two way voice path</h3>

<h3 id="example-removing-call-callid2-from-the-bridge-created-in-the-example-above">Example: Removing call {callId2} from the bridge created in the example above</h3>

<h3 id="example-adding-two-different-calls-callid3-and-callid4-in-the-bridge-above-and-put-them-on-hold">Example: Adding two different calls {callId3} and {callId4} in the bridge above and put them on hold</h3>

<h3 id="example-bridging-the-audio-again">Example: Bridging the audio again</h3>

<h3 id="example-removing-all-calls-from-bridge">Example: Removing all calls from bridge.</h3>

<h2 id="post-bridges-bridgeid-audio">POST bridges/{bridgeId}/audio</h2>

<p>Play an audio file or speak a sentence in a bridge.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-play-an-audio-file">Example: Play an Audio file</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": "http://example.com/audio.mp3"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-an-audio-file-playing">Example: Stop an Audio File Playing</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon in the mean time:</span>
<span class="c1">//Stop Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-speak-a-sentence">Example: Speak a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "gender": "female",
        "sentence": "Hello, thank you for calling.",
        "locale": "en_US",
        "voice": "julie"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence with options</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"bridgeId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"bridgeId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Speak sentence in a bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-a-sentence">Example: Stop a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"sentence": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon</span>
<span class="c1">//Speak sentence in a bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-bridges-bridgeid-calls">GET bridges/{bridgeId}/calls</h2>

<p>Get the list of calls that are on the bridge.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">getCalls</span><span class="p">(</span><span class="s1">'brg-65dhjbiei'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">getCalls</span><span class="p">(</span><span class="s1">'brg-65dhjrmbasiei'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "activeTime": "2013-05-22T19:49:39Z",
        "direction": "out",
        "from": "{fromNumber}",
        "id": "{callId1}",
        "bridgeId": "{bridgeId}",
        "startTime": "2013-05-22T19:49:35Z",
        "state": "active",
        "to": "{toNumber1}",
        "recordingEnabled": false,
        "events": "https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId1}/events",
        "bridge": "https://api.catapult.inetwork.com/v1/users/{userId}/bridges/{bridgeId}"
    },
    {
        "activeTime": "2013-05-22T19:50:16Z",
        "direction": "out",
        "from": "{fromNumber}",
        "id": "{callId2}",
        "bridgeId": "{bridgeId}",
        "startTime": "2013-05-22T19:50:16Z",
        "state": "active",
        "to": "{toNumber2}",
        "recordingEnabled": false,
        "events": "https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId2}/events",
        "bridge": "https://api.catapult.inetwork.com/v1/users/{userId}/bridges/{bridgeId}"
    }
]
</code></pre>

          <h1 id="calls">Calls</h1>

<p>The Calls resource lets you make phone calls and view information about previous inbound and outbound calls.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique ID of the call.</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">Call direction: values are <code class="prettyprint">in</code> for an incoming call, <code class="prettyprint">out</code> for an outgoing call</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The phone number or SIP address that made the call. Phone numbers are in E.164 format (e.g. +15555555555) -or- SIP addresses (e.g. identify@domain.com).</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The phone number or SIP address that received the call. Phone numbers are in E.164 format (e.g. +15555555555) -or- SIP addresses (e.g. identify@domain.com).</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The call state. Described below, values are started <code class="prettyprint">rejected</code>, <code class="prettyprint">active</code>, <code class="prettyprint">completed</code>, <code class="prettyprint">transferring</code></td>
</tr>
<tr>
<td style="text-align: left">startTime</td>
<td style="text-align: left">Date when the call was created. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">activeTime</td>
<td style="text-align: left">Date when the call was answered. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">endTime</td>
<td style="text-align: left">Date when the call ended. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">callTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for call answer before timing out in seconds (milliseconds).</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The server URL where the call events related to the call will be sent.</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. Values are <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code> Default is <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl&rsquo;s response before timing out (milliseconds).</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The server URL used to send the call events if the request to callbackUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">chargeableDuration</td>
<td style="text-align: left">The number of seconds the call will be billed for.</td>
</tr>
<tr>
<td style="text-align: left">transferTo</td>
<td style="text-align: left">Phone number or SIP address that the call is going to be transferred to.</td>
</tr>
<tr>
<td style="text-align: left">transferCallerId</td>
<td style="text-align: left">This is the caller id that will be used when the call is transferred. This parameter is only considered in transfer state. <br>- transferring an incoming call: allowed values are 1) &ldquo;private&rdquo; 2) the incoming call &ldquo;from&rdquo; number or 3) any Bandwidth number owned by user. <br>- transferring an outgoing call call: allowed values are 1) &ldquo;private&rdquo; or 2) any Bandwidth phone number owned by user.</td>
</tr>
<tr>
<td style="text-align: left">whisperAudio</td>
<td style="text-align: left">Audio to be played to the caller that the call will be transferred to.</td>
</tr>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge where the call will be added.</td>
</tr>
<tr>
<td style="text-align: left">bridge</td>
<td style="text-align: left">The URL of the bridge, if any, that contains the call.</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">The id of the conference where the call will be added. This property is required if you want to add this call to a conference.</td>
</tr>
<tr>
<td style="text-align: left">conference</td>
<td style="text-align: left">The complete URL of the conference resource the call is associated with.</td>
</tr>
<tr>
<td style="text-align: left">events</td>
<td style="text-align: left">The URL to retrieve the events related to the call.</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded after being created. Set to <code class="prettyprint">true</code> to enable. Default is <code class="prettyprint">false</code></td>
</tr>
<tr>
<td style="text-align: left">recordingFileFormat</td>
<td style="text-align: left">The file format of the recorded call. Supported values are <code class="prettyprint">wav</code> (default) and <code class="prettyprint">mp3</code>.</td>
</tr>
<tr>
<td style="text-align: left">recordingMaxDuration</td>
<td style="text-align: left">Indicates the maximum duration of call recording in seconds. Default value is 1 hour.</td>
</tr>
<tr>
<td style="text-align: left">transcriptionEnabled</td>
<td style="text-align: left">Whether all the recordings for this call should be be automatically transcribed.</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">Any string, it will be included in the callback events of the call.</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of calls. If no value is specified the default is 0.</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of calls. If no value is specified the default value is 25 (maximum value 1000).</td>
</tr>
<tr>
<td style="text-align: left">sipHeaders</td>
<td style="text-align: left">Map of Sip headers prefixed by &ldquo;X-&rdquo;. Up to 5 headers can be sent per call. Max length for header and value is 256 characters.</td>
</tr>
</tbody></table>

<h2 id="call-state">Call State</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">started</td>
<td style="text-align: left">Call is created but not answered.</td>
</tr>
<tr>
<td style="text-align: left">rejected</td>
<td style="text-align: left">Incoming call was rejected.</td>
</tr>
<tr>
<td style="text-align: left">active</td>
<td style="text-align: left">Call is answered and isn’t completed.</td>
</tr>
<tr>
<td style="text-align: left">completed</td>
<td style="text-align: left">Call is finished.</td>
</tr>
<tr>
<td style="text-align: left">transferring</td>
<td style="text-align: left">Transferring connects audio to a new outbound call.</td>
</tr>
</tbody></table>

<h2 id="get-calls">GET calls</h2>

<p>Gets a list of active and historic calls you made or received. Since this operation uses HTTP GET, all the properties are specified as HTTP request parameters.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge for querying a list of calls history (pagination do not apply).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">The id of the conference for querying a list of calls history (pagination do not apply).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The number to filter calls that came from (must be either an E.164 formatted number, like +19195551212, or a valid SIP URI, like sip:someone@somewhere.com).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The number to filter calls that was called to (must be either an E.164 formatted number, like +19195551212, or a valid SIP URI, like sip:someone@somewhere.com).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of calls. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of calls. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sortOrder</td>
<td style="text-align: left">How to sort the calls. Values are <code class="prettyprint">asc</code> or <code class="prettyprint">desc</code> If no value is specified the default value is <code class="prettyprint">desc</code></td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-your-calls">Example: List your calls</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/calls/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callId1}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{number}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "completed",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "endTime": "2013-02-08T13:15:55.887Z",
        "chargeableDuration": 60,
        "events": "https://.../calls/{callId1}/events",
        "sipHeaders" : {
                "X-Header-1" : "value-1",
                "X-Header-2" : "value2"
        }
    },
    {
        "id": "{callId2}",
        "direction": "out",
        "from": "{number}",
        "to": "{toNumber}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "active",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "events": "https://.../calls/{callId2}/events"
    }
]
</code></pre>

<h3 id="example-list-your-calls-by-from-number-fromnumber">Example: List your calls by from number {fromNumber}</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/calls?from<span class="o">=</span>%2b19195551212 <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"+19195551212"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callId1}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{toNumber1}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "completed",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "endTime": "2013-02-08T13:15:55.887Z",
        "chargeableDuration": 60,
        "events": "https://.../calls/{callId1}/events"
    },
    {
        "id": "{callId2}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{toNumber2}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "active",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "events": "https://.../calls/{callId2}/events"
    }
]
</code></pre>

<h2 id="post-calls">POST calls</h2>

<p>Creates a new outbound phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">A Bandwidth phone number on your account the call should come from (must be in E.164 format, like <code class="prettyprint">+19195551212</code>).</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The number to call (must be either an E.164 formatted number, like <code class="prettyprint">+19195551212</code>, or a valid SIP URI, like <code class="prettyprint">sip:someone@somewhere.com</code>).</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">callTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for call answer before timing out in seconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The full server URL where the call events related to the Call will be sent to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via <code class="prettyprint">HTTP GET</code> or <code class="prettyprint">HTTP POST</code>. Values are <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code> (if not set the default is <code class="prettyprint">POST</code>).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The full server URL used to send the callback event if the request to callbackUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge where the call will be added.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">Id of the conference where the call will be added. This property is required if you want to add this call to a conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded after being created. Set to <code class="prettyprint">true</code> to enable. Default is <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingMaxDuration</td>
<td style="text-align: left">Indicates the maximum duration of call recording in seconds. Default value is 1 hour.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transcriptionEnabled</td>
<td style="text-align: left">Whether all the recordings for this call is going to be automatically transcribed.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sipHeaders</td>
<td style="text-align: left">Map of Sip headers prefixed by <code class="prettyprint">X-</code>. Up to 5 headers can be sent per call.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-an-outbound-phone-call">Example: Create an outbound phone call</h3>

<aside class="notice">
The call resource returned in the &ldquo;Location&rdquo; header can be modified to change the call (for example, play audio files, transfer to a different number, or hang up).
</aside>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{fromNumber}",
        "to": "{toNumber}"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"{fromNumber}"</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="s2">"{toNumber}"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<h3 id="example-create-call-and-start-recording-it">Example: Create call and start recording it</h3>

<h3 id="example-create-a-call-in-a-bridge">Example: Create a call in a bridge</h3>

<h3 id="example-create-an-outbound-call-with-callback-and-fallback-url">Example: Create an outbound call with callback and fallback URL</h3>

<h3 id="example-create-an-outbound-call-with-tag-property">Example: Create an outbound call with tag property</h3>

<h3 id="example-create-an-outbound-call-to-a-sip-uri">Example: Create an outbound call to a SIP URI</h3>

<p>Make a call to a SIP URI:</p>

<aside class="notice">
* The support is based on SIP RFC 3261.
* If the INVITE fails (receive a non-2xx final response), an event will be generated to the application indicating the call has hung up.
* SIPS is not currently supported.
</aside>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{fromNumber}",
        "to": "{sip:someone@somewhere.com:}",
        "sipHeaders": {
            "X-Header-1": "value1",
            "X-Header-2": "value2"
        }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"{fromNumber}"</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="s2">"{sip:someone@somewhere.com}"</span><span class="p">,</span>
    <span class="na">sipHeaders</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"X-Header-1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>
        <span class="s2">"X-Header-2"</span><span class="p">:</span> <span class="s2">"value2"</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<h2 id="get-calls-callid">GET calls/{callId}</h2>

<p>Gets information about an active or completed call. No query parameters are supported.</p>

<h3 id="example-get-call-information">Example: Get Call Information</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    <span class="sb">```</span>

<span class="sb">```</span>js
client.Call.get<span class="o">(</span><span class="s2">"{callId}"</span><span class="o">)</span>
.then<span class="o">(</span><span class="k">function</span> <span class="o">(</span>response<span class="o">)</span> <span class="o">{</span>
    console.log<span class="o">(</span>respone<span class="o">)</span>;
<span class="o">})</span>;
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"activeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:20Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"chargeableDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"out"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/events"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fallbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example-fallback.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{fromNumber}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{callId}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"recordingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"recordings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/recordings"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:09Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{toNumber}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transcriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transcriptions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/transcriptions"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sipHeaders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"X-header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-calls-callid">POST calls/{callId}</h2>

<p>Update properties of an active phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The call state. Possible values: <br> <code class="prettyprint">rejected</code> to reject not answer<br> <code class="prettyprint">active</code> to answer the call<br><code class="prettyprint">completed</code> to hangup the call<br><code class="prettyprint">transferring</code> to start and connect call to a new outbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded. Values <code class="prettyprint">true</code> or <code class="prettyprint">false</code>. You can turn recording on/off and have multiple recordings on a single call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transferTo</td>
<td style="text-align: left">Phone number or SIP address that the call is going to be transferred to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transferCallerId</td>
<td style="text-align: left">This is the caller id that will be used when the call is transferred. This parameter is only considered in transfer state.<br>- transferring an incoming call: allowed values are 1) <code class="prettyprint">private</code> 2) the incoming call <code class="prettyprint">from</code> number or 3) any Bandwidth number owned by user.<br>- transferring an outgoing call call: allowed values are 1) <code class="prettyprint">private</code> or 2) any Bandwidth phone number owned by user.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">whisperAudio</td>
<td style="text-align: left">Audio to be played to the caller that the call will be transferred to. See /audio.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The server URL where the call events for the new call will be sent upon transferring.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-answer-an-incoming-phone-call">Example: Answer an Incoming Phone Call</h3>

<h3 id="example-reject-an-incoming-phone-call">Example: Reject an Incoming Phone Call</h3>

<h3 id="example-hang-up-a-phone-call">Example: Hang Up a Phone Call</h3>

<h3 id="example-turn-call-recording-on">Example: Turn call recording ON</h3>

<h3 id="example-turn-call-recording-off">Example: Turn call recording OFF</h3>

<h3 id="example-transfer-a-call">Example: Transfer a call</h3>

<h3 id="example-transfer-a-call-using-the-caller-id-of-the-party-being-transferred">Example: Transfer a call using the caller Id of the party being transferred</h3>

<h3 id="example-transfer-a-call-and-say-something-before-bridging-the-calls">Example: Transfer a call and say something before bridging the calls</h3>

<h3 id="example-transfer-a-call-and-say-something-before-bridging-the-calls">Example: Transfer a call and say something before bridging the calls</h3>

<h2 id="post-calls-callid-audio">POST calls/{callId}/audio</h2>

<p>Plays an audio file or speak a sentence in a phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">loopEnabled</td>
<td style="text-align: left">When value is <code class="prettyprint">true</code> , the audio will keep playing in a loop. Default: <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the events delivered when the audio playback starts or finishes.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-speak-a-sentence">Example: Speak a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "gender": "female",
        "sentence": "Hello, thank you for calling.",
        "locale": "en_US",
        "voice": "julie"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence with options</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Speak sentence in a call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-interrupt-stop-a-sentence-from-speaking">Example: Interrupt/stop a sentence from speaking.</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"sentence": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon</span>
<span class="c1">//Speak sentence in a call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-speak-a-sentence-with-male-gender-voice">Example: Speak a Sentence with male gender voice</h3>

<h3 id="example-speaking-a-sentence-with-a-given-locale-gender-and-voice">Example: Speaking a sentence with a given locale, gender and voice.</h3>

<h3 id="example-speaking-a-sentence-with-a-break">Example: Speaking a sentence with a break</h3>

<h3 id="example-play-an-audio-file">Example: Play an Audio File</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": "http://example.com/audio.mp3"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file on call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-an-audio-file-playing">Example: Stop an Audio File Playing</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon in the mean time:</span>
<span class="c1">//Stop Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-calls-callid-dtmf">POST calls/{callId}/dtmf</h2>

<p>Send DTMF (phone keypad digit presses).</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">dtmfOut</td>
<td style="text-align: left">String containing the DTMF characters to be sent in a call.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-send-the-digits-quot-9193334444-quot">Example: Send the digits &ldquo;9193334444&rdquo;</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/dtmf <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"dtmfOut": "9193334444"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">sendDtmf</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="s2">"9193334444"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">sendDtmf</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="s2">"9193334444"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-calls-callid-events">GET calls/{callId}/events</h2>

<p>Gets the events that occurred during the call. No query parameters are supported.</p>

<h3 id="event-properties">Event Properties</h3>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The call event id.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the event occurred.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">The name of the event.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Data about event.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-events-for-a-call">Example: Get events for a call.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/events <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvents</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">events</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvents</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">events</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callEventId1}",
        "time": "2012-09-19T13:55:41.343Z",
        "name": "create"
    },
    {
        "id": "{callEventId2}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "answer"
    },
    {
        "id": "{callEventId3}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "CHANNEL_EXECUTE",
        "data": "{"applicationName":"park"}"
    },
    {
        "id": "{callEventId4}",
        "time": "2012-09-19T13:55:51.283Z",
        "name": "CHANNEL_EXECUTE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    },
    {
        "id": "{callEventId5}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "playback",
        "data": "start"
    },
    {
        "id": "{callEventId6}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "playback",
        "data": "done"
    },
    {
        "id": "{callEventId7}",
        "time": "2012-09-19T13:55:55.503Z",
        "name": "CHANNEL_EXECUTE_COMPLETE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    },
    {
        "id": "{callEventId8}",
        "time": "2012-09-19T13:55:58.323Z",
        "name": "hangup",
        "data": "NORMAL_CLEARING"
    },
    {
        "id": "{callEventId9}",
        "time": "2012-09-19T13:55:58.343Z",
        "name": "CHANNEL_EXECUTE_COMPLETE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    }
]
</code></pre>

<h2 id="get-calls-callid-events-calleventid">GET calls/{callId}/events/{callEventId}</h2>

<p>Gets information about one call event. No query parameters are supported.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/events/<span class="o">{</span>eventId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvent</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="nx">eventId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">callEvent</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvent</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="nx">eventId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callEvent</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce-qg4vz6anrfogri7hhduqlgq"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1419032854964</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hangup"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="get-calls-callid-recordings">GET calls/{callId}/recordings</h2>

<p>Retrieve all recordings related to the call.</p>

<h3 id="example-get-recordings-for-a-call-id">Example: Get recordings for a call Id.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/recordigns <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getRecordings</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getRecordings</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>GET /v1/{userId}/calls/{callId}/recordings
HTTP/1.1 200 OK

[
    {
        "endTime": "2013-02-08T12:06:55.007Z",
        "id": "{recordingId1}",
        "media": "https://.../v1/users/.../media/{callId}-1.wav",
        "call": "https://.../v1/users/.../calls/{callId}",
        "startTime": "2013-02-08T12:05:17.807Z",
        "state": "complete"
    },
    {
        "endTime": "2013-02-08T13:15:65.887Z",
        "id": "{recordingId2}",
        "media": "https://.../v1/users/.../media/{callId}-2.wav",
        "call": "https://.../v1/users/.../calls/{callId}",
        "startTime": "2013-02-08T13:15:55.887Z",
        "state": "complete"
    }
]
</code></pre>

<h2 id="get-calls-callid-transcriptions">GET calls/{callId}/transcriptions</h2>

<p>Retrieve all transcriptions related to the call.</p>

<h3 id="example-retrieve-all-transcriptions-related-to-the-call">Example: Retrieve all transcriptions related to the call.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/transcriptions <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getTranscriptions</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getTranscriptions</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-calls-callid-gather">POST calls/{callId}/gather</h2>

<p>Collects a series of DTMF digits from a phone call with an optional prompt. This request returns immediately. When gather finishes, an event with the results will be posted to the callback URL.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxDigits</td>
<td style="text-align: left">The maximum number of digits to collect, not including terminating digits (maximum 30).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">interDigitTimeout</td>
<td style="text-align: left">Stop gathering if a DTMF digit is not detected in this many seconds (default 5.0; maximum 30.0).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">terminatingDigits</td>
<td style="text-align: left">A string of DTMF digits that end the gather operation immediately if any one of them is detected (default “#”; an empty string means collect all DTMF until maxDigits or the timeout).<br>Example:<br><code class="prettyprint">#</code> : The gather ends if # is detected (this is the default behavior if the terminatingDigits property is not specified)<br><code class="prettyprint">0#*</code> : The gather ends if either 0, #, or * is detected<br>Don’t forget to encode keypad digits that have special meaning in a URL, like #.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string you choose that will be included with the response and events for this gather operation.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.sentence</td>
<td style="text-align: left">The text to speak for the prompt (uses the call audio resource defaults). NOTE: encode special characters in the sentence.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.gender</td>
<td style="text-align: left">The gender to use for the voice reading the prompt sentence (uses the call audio resource defaults).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.locale</td>
<td style="text-align: left">The language and region to use for the voice reading the prompt sentence (uses the call audio resource defaults).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.loopEnabled</td>
<td style="text-align: left">When value is true, the audio will keep playing in a loop. Default: false</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.bargeable</td>
<td style="text-align: left">Make the prompt (audio or sentence) bargeable (will be interrupted at first digit gathered). Default: true</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-play-a-prompt-sentence">Example: Play a prompt sentence</h3>

<p>Play a prompt sentence, then wait until 5 digits are pressed. Stop gathering digits if * is pressed, or if 7 seconds pass with no digits pressed.</p>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
        -d <span class="se">\</span>
    <span class="s1">'
    {
        "maxDigits":"5",
        "terminatingDigits":"*",
        "interDigitTimeout":"7",
        "prompt": {
            "sentence": "Please enter your 5 digit code"
        }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Create Gather</span>
<span class="c1">//The gather ends if either 0, #, or * is detected</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span>   <span class="p">{</span>
    <span class="s2">"maxDigits"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span>
    <span class="s2">"terminatingDigits"</span><span class="p">:</span><span class="s2">"*"</span><span class="p">,</span>
    <span class="s2">"interDigitTimeout"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span>
    <span class="s2">"prompt"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"sentence"</span><span class="p">:</span> <span class="s2">"Please enter your 5 digit code"</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">createGather</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">createGather</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-calls-callid-gather-gatherid">GET calls/{callId}/gather/{gatherId}</h2>

<p>Get the gather DTMF parameters and results.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/gather/<span class="o">{</span>gatherId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getGather</span><span class="p">(</span><span class="s2">"{callId}"</span><span class="p">,</span> <span class="s2">"{gatherId}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{gatherId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"max-digits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-12T19:33:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-12T19:33:59Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"call"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-calls-callid-gather-gatherid">POST calls/{callId}/gather/{gatherId}</h2>

<p>Update the gather.
<aside class="notice">
The only update allowed is state:completed to stop the gather.
<aside></p>

<h3 id="example-stop-the-gather-dtmf">Example: Stop the gather DTMF</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/gather/<span class="o">{</span>gatherId<span class="o">}</span> <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "state": "completed"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">completeGather</span><span class="p">(</span><span class="s2">"{callId}"</span><span class="p">,</span> <span class="s2">"{gatherId}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{});</span>
</code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="javascript">NodeJS</a>
          </div>
      </div>
    </div>
  </body>
</html>
