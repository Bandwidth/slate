<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bandwidth API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="javascript">NodeJS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://bandwidth.com/products/application-platform/?utm_medium=social&utm_source=docs&utm_campaign=dtolb&utm_content=_'>Create an API Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="get-started">Get Started</h1>

<p>Before you can send your first SMS message, you will need to</p>

<p><a href="http://bandwidth.com/products/application-platform/?utm_medium=social&amp;utm_source=docs&amp;utm_campaign=dtolb&amp;utm_content=_">Sign up</a> for a free Bandwidth API account.
Get a number under the “My Numbers” tab (more specific instructions here)</p>

<h1 id="send-your-first-sms-message">Send your first SMS Message</h1>

<p>To send your first SMS message we have included instructions for using Postman, a helpful program for testing APIs <a href="https://www.getpostman.com/">download</a>, and also code that can be found further down this page.</p>

          <h1 id="intelligence-services">Intelligence Services</h1>

<p>Use number intelligence to block traffic from spammers and fraudsters. This feature is in beta. Early access will begin in Q3. Email signup@bandwidth.com to obtain early access.</p>

<h2 id="number-intelligence-properties">Number Intelligence Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The telephone number in E.164 format. <code class="prettyprint">+13334445555</code></td>
</tr>
<tr>
<td style="text-align: left">nationalNumber</td>
<td style="text-align: left">The telephone number in a friendly national format, e.g. (555) 555-5555</td>
</tr>
<tr>
<td style="text-align: left">carrier</td>
<td style="text-align: left">The company who provides the service for this number.</td>
</tr>
<tr>
<td style="text-align: left">lineType</td>
<td style="text-align: left">The type of service provided on this number. Options include: <code class="prettyprint">landline</code>, <code class="prettyprint">fixed_voip</code>, <code class="prettyprint">non_fixed_voip</code>, <code class="prettyprint">mobile</code>,<code class="prettyprint">voicemail</code>, <code class="prettyprint">tollfree</code>, <code class="prettyprint">premium</code>, <code class="prettyprint">other</code>.</td>
</tr>
<tr>
<td style="text-align: left">reputationScore</td>
<td style="text-align: left">Measures the risk of the number being associated with spam / fraudulent behavior. Valid values between 1 - 4.</td>
</tr>
<tr>
<td style="text-align: left">riskType</td>
<td style="text-align: left">Type of risk this number is associated with. Types include <code class="prettyprint">spam</code>, <code class="prettyprint">risk</code>, <code class="prettyprint">not_applicable</code>.</td>
</tr>
<tr>
<td style="text-align: left">riskCategory</td>
<td style="text-align: left">Category of risk associated with the number. Categories include: <code class="prettyprint">not_spam</code>, <code class="prettyprint">debt_collector</code> ,<code class="prettyprint">telemarketer</code>, <code class="prettyprint">political_call</code>, <code class="prettyprint">phone_survey</code>, <code class="prettyprint">phishing,extortion</code>, <code class="prettyprint">irs_scam</code>, <code class="prettyprint">tax_scam</code>, <code class="prettyprint">tech_support_scam</code>, <code class="prettyprint">vacation_scam</code>, <code class="prettyprint">lucky_winner_scam</code>, <code class="prettyprint">scam</code>, <code class="prettyprint">tollfree_pumping</code>, <code class="prettyprint">other_spam.</code></td>
</tr>
</tbody></table>

<h2 id="get-intelligenceservices">GET intelligenceServices</h2>

<p>This resource will provide number intelligence data for the number provided.</p>

<table><thead>
<tr>
<th><code class="prettyprint">GET</code></th>
<th>/v1/users/{user-id}/intelligenceServices/number/{number}</th>
</tr>
</thead><tbody>
</tbody></table>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">PARAMETER</th>
<th style="text-align: left">DESCRIPTION</th>
<th style="text-align: left">MANDATORY</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">reputation</td>
<td style="text-align: left">Includes number reputation information.</td>
<td style="text-align: left">no</td>
</tr>
</tbody></table>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/intelligenceServices/number/15554446666?reputation<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number":"5554446666",
        "nationalNumber":"+15554446666",
        "carrier": "AT&amp;T Wireless",
        "lineType": "Mobile",
        "reputationScore": "4",
        "riskType": "Spam",
        "riskCategory": "Phishing"
    }
]
</code></pre>

          <h1 id="account">Account</h1>

<p>The Account API allows you to retrieve your current balance, transaction list, account type and all elements related to your platform account.</p>

<table><thead>
<tr>
<th style="text-align: left"><code class="prettyprint">GET</code></th>
<th style="text-align: left">/v1/users/{userId}/account</th>
<th style="text-align: left">Get information about your account</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code class="prettyprint">GET</code></td>
<td style="text-align: left">/v1/users/{userId}/account/transactions</td>
<td style="text-align: left">Get a list of the transactions made to your account</td>
</tr>
</tbody></table>

<h2 id="account-properties">Account Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">balance</td>
<td style="text-align: left">Your account balance in dollars, as a string; the currency symbol is not included.</td>
</tr>
<tr>
<td style="text-align: left">accountType</td>
<td style="text-align: left">The type of account configured for your user:   <strong>pre-pay</strong>: the type of account where you increase your available balance with credit card payments.</td>
</tr>
</tbody></table>

<h2 id="transaction-properties">Transaction Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">PROPERTY</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique identifier for the transaction.</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the transaction was processed.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">The transaction amount in dollars, as a string; the currency symbol is not included.</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">The type of transaction.</td>
</tr>
<tr>
<td style="text-align: left">units</td>
<td style="text-align: left">The number of product units the transaction charged or credited.</td>
</tr>
<tr>
<td style="text-align: left">productType</td>
<td style="text-align: left">The product the transaction was related to (not all transactions are related to a product).</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The phone number the transaction was related to (not all transactions are related to a phone number).</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of transactions. If no value is specified the default is 0.</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of transactions. If no value is specified the default value is 25 (maximum value 1000).</td>
</tr>
</tbody></table>

<h2 id="transaction-types">Transaction Types</h2>

<table><thead>
<tr>
<th style="text-align: left">TYPE</th>
<th style="text-align: left">DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">charge</td>
<td style="text-align: left">A charge for the use of a service or resource (for example, phone calls, SMS messages, phone numbers).</td>
</tr>
<tr>
<td style="text-align: left">payment</td>
<td style="text-align: left">A payment you made to increase your account balance.</td>
</tr>
<tr>
<td style="text-align: left">credit</td>
<td style="text-align: left">An increase to your account balance that you did not pay for (for example, an initial account credit or promotion).</td>
</tr>
<tr>
<td style="text-align: left">auto-recharge</td>
<td style="text-align: left">An automated payment made to keep your account balance above the minimum balance you configured.</td>
</tr>
</tbody></table>

<h2 id="product-types">Product Types</h2>

<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">local-number-per-month</td>
<td style="text-align: left">The monthly charge for a local phone number.</td>
</tr>
<tr>
<td style="text-align: left">toll-free-number-per-month</td>
<td style="text-align: left">The monthly charge for a toll-free phone number.</td>
</tr>
<tr>
<td style="text-align: left">sms-in</td>
<td style="text-align: left">A SMS message that came in to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">sms-out</td>
<td style="text-align: left">A SMS message that was sent outbound one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">mms-in</td>
<td style="text-align: left">A MMS message that was sent to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">mms-out</td>
<td style="text-align: left">A MMS message that was sent outbound one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">call-in</td>
<td style="text-align: left">An inbound phone call to one of your numbers.</td>
</tr>
<tr>
<td style="text-align: left">call-out</td>
<td style="text-align: left">An outbound phone call that was created by your app.</td>
</tr>
<tr>
<td style="text-align: left">sip-call-in</td>
<td style="text-align: left">A phone call that came inbound via SIP to one of your registered endpoints.</td>
</tr>
<tr>
<td style="text-align: left">sip-call-out</td>
<td style="text-align: left">A phone call made outbound to a SIP address.</td>
</tr>
<tr>
<td style="text-align: left">transcription</td>
<td style="text-align: left">A transcription of a recorded call.</td>
</tr>
<tr>
<td style="text-align: left">cnam-search</td>
<td style="text-align: left">A CNAM lookup request for a phone number.</td>
</tr>
</tbody></table>

<h2 id="get-account">GET account</h2>

<p>Get an Account object. No query parameters are supported.</p>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">get</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">info</span><span class="p">){});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">info</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"538.37250"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre-pay"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="get-account-transactions">GET account/transactions</h2>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxItems</td>
<td style="text-align: left">Limit the number of transactions that will be returned.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">toDate</td>
<td style="text-align: left">Return only transactions that are newer than the parameter. Format: &ldquo;yyyy-MM-dd&rsquo;T&#39;HH:mm:ssZ&rdquo;</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fromDate</td>
<td style="text-align: left">Return only transactions that are older than the parameter. Format: &ldquo;yyyy-MM-dd&rsquo;T&#39;HH:mm:ssZ&rdquo;</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Return only transactions that are this type.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of transactions. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of transactions. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">Return only transactions that are from the specified number. (coming soon)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-transactions">Example: Get transactions</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId1}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  },
  {
    "id": "{transactionId2}",
    "time": "2013-02-21T13:37:42.079Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-by-date">Example: Get transactions by date</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?fromDate<span class="o">=</span>2013-02-21T13:38:00 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions filtering by date</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fromDate</span><span class="p">:</span> <span class="s2">"2013-02-21T13:38:00"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-filtering-by-date">Example: Get transactions filtering by date</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?toDate<span class="o">=</span>2013-02-21T13:40:00&amp;fromDate<span class="o">=</span>2013-02-21T13:38:00 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions filtering by date</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fromDate</span><span class="p">:</span> <span class="s2">"2013-02-21T13:38:00"</span><span class="p">,</span>
    <span class="na">toDate</span><span class="p">:</span>   <span class="s2">"2013-02-21T13:40:00"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-limiting-result">Example: Get transactions limiting result</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?maxItems<span class="o">=</span>1 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions limiting result</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">maxItems</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId}",
    "time": "2013-02-21T13:39:09.122Z",
    "amount": "0.00750",
    "type": "charge",
    "units": "1",
    "productType": "sms-out",
    "number": "{number}"
  }
]
</code></pre>

<h3 id="example-get-transactions-of-payment-type">Example: Get transactions of payment type</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/transations?type<span class="o">=</span>Payment <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Get transactions of `payment` type</span>
<span class="c1">//Promise</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"Payment"</span>
<span class="p">};</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Account</span><span class="p">.</span><span class="nx">getTransactions</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span><span class="na">transactions</span><span class="p">:</span> <span class="p">[]};</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">transactions</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{transactionId1}",
    "time": "2013-02-15T18:43:50.602Z",
    "amount": "1000.00000",
    "type": "payment",
    "units": "0"
  },
  {
    "id": "{transactionId2}",
    "time": "2013-02-05T14:56:51.279Z",
    "amount": "5000.00000",
    "type": "payment",
    "units": "0"
  }
]
</code></pre>

          <h1 id="applications">Applications</h1>

<p>The Applications resource lets you define call and message handling applications. You write an application on your own servers and have Bandwidth API send events to it by configuring a callback URL.</p>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique identifier for the application.</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call. This is the endpoint where the Application Platform will send all call events. Either incomingCallUrl or incomingMessageUrl is required.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. Values are &ldquo;get&rdquo; or &ldquo;post&rdquo;, default: &ldquo;post&rdquo;.</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &lsquo;true&rsquo;.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound message. This is the endpoint where the Application Platform will send all message events. Either incomingMessageUrl or incomingCallUrl is required.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
</tr>
</tbody></table>

<h2 id="get-applications">GET applications</h2>

<p>Get a list of your applications</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of applications. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of applications. If no value is specified the default value is 25. (Maximum value 1000)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-your-applications">Example: List your applications.</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/account/applications <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">applications</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span><span class="na">applications</span><span class="p">:</span> <span class="p">[]};</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">applications</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{applicationId}",
    "name": "MyFirstApp",
    "incomingCallUrl": "http://example.com/calls.php",
    "incomingMessageUrl": "http://example.com/messages.php",
    "autoAnswer": true
  },
  {
    "id": "{applicationId}",
    "name": "MySecondApp",
    "incomingCallUrl": "http://example.com/app2/calls.php",
    "incomingMessageUrl": "http://example.com/app2/messages.php",
    "autoAnswer": false
  }
]
</code></pre>

<h2 id="post-applications">POST applications</h2>

<p>Creates an application that can handle calls and messages for one of your phone number. Many phone numbers can share an application.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound SMS message</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. (If not set the default is HTTP POST)</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &#39;true&rsquo;.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-an-application-named-39-myfirstapp-39">Example: Create an application named: &#39;MyFirstApp&rsquo;</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"name": "MyFirstApp", "incomingCallUrl": "http://example.com/calls.php", "incomingMessageUrl": "http://example.com/messages.php", "callbackHttpMethod": "GET", "autoAnswer": true}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'MyFirstApp'</span><span class="p">,</span>
    <span class="na">incomingCallUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/CallCallback'</span><span class="p">,</span>
    <span class="na">incomingMessageUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/MsgCallback'</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'SampleApp2'</span><span class="p">,</span>
    <span class="na">incomingCallUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/CallCallback'</span><span class="p">,</span>
    <span class="na">incomingMessageUrl</span><span class="p">:</span> <span class="s1">'http://your-server.com/MsgCallback'</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<h2 id="get-applications-applicationid">GET applications/{applicationId}</h2>

<p>Gets information about one of your applications. No query parameters are supported.</p>

<h3 id="example-get-an-application-39-s-information">Example: Get an application&rsquo;s information</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'a-j4f2jz53mq'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'a-zuwwfzzrbea'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{applicationId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyFirstApp"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"incomingCallUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/calls.php"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"incomingMessageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/messages.php"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoAnswer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-applications-applicationid">POST applications/{applicationId}</h2>

<p>Makes changes to an application. POST a new JSON representation with the property values you desire to the URL that you got back in the &ldquo;Location&rdquo; header when you first created it.</p>

<aside class="notice">
NOTE: Properties you don&rsquo;t send will remain unchanged.
</aside>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">A name you choose for this application.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrl</td>
<td style="text-align: left">A URL where call events will be sent for an inbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingCallUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingCallFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingCallUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrl</td>
<td style="text-align: left">A URL where message events will be sent for an inbound SMS message.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageUrlCallbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for incomingMessageUrl&rsquo;s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">incomingMessageFallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to incomingMessageUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. (If not set the default is HTTP POST).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">autoAnswer</td>
<td style="text-align: left">Determines whether or not an incoming call should be automatically answered. Default value is &#39;true&rsquo;.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-update-application">Example: Update Application</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"incomingCallUrl": "http://different.example.com/calls.php"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s1">'a-j4f2j6vjmqz53mq'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Rename App1'</span><span class="p">,</span>
    <span class="na">autoAnswer</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s1">'a-zudcfzzrbea'</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="s1">'Rename App2'</span><span class="p">,</span>
        <span class="na">autoAnswer</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<h2 id="delete-applications-applicationid">DELETE applications/{applicationId}</h2>

<p>Permanently deletes an application.</p>

<h3 id="example-delete-an-application">Example: Delete an application.</h3>
<pre class="highlight shell"><code>curl -v -X DELETE https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/applications/<span class="o">{</span>applicationId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">'a-j4f2j6mqz53mq'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">'a-zuwwzrbea'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">});</span>
</code></pre>

          <h1 id="available-numbers">Available Numbers</h1>

<p>The Available Numbers resource lets you search for numbers that are available for use with your application.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">The telephone number in E.164 format.</td>
</tr>
<tr>
<td style="text-align: left">nationalNumber</td>
<td style="text-align: left">The telephone number in a friendly national format.</td>
</tr>
<tr>
<td style="text-align: left">patternMatch</td>
<td style="text-align: left">The telephone number in a friendly national format with some numbers replaced by letters if a pattern was used to search the number.</td>
</tr>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">The city of the phone number.</td>
</tr>
<tr>
<td style="text-align: left">lata</td>
<td style="text-align: left">Local access and transport area (LATA), represents an area within which a regional operating company is permitted to offer exchange telecommunications and exchange access services.</td>
</tr>
<tr>
<td style="text-align: left">rateCenter</td>
<td style="text-align: left">The rate center is a term used to identify a telephone local exchange service area.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The state of the phone number.</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">The monthly price for the phone number.</td>
</tr>
</tbody></table>

<h2 id="get-availablenumbers-local">GET availableNumbers/local</h2>

<p>Searches for available local numbers by location or pattern criteria.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">A city name.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">A two-letter US state abbreviation (&ldquo;CA&rdquo; for California).</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">A 5-digit US ZIP code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">areaCode</td>
<td style="text-align: left">A 3-digit telephone area code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">localNumber</td>
<td style="text-align: left">It is defined as the first digits of a telephone number inside an area code for filtering the results. It must have at least 3 digits and the areaCode field must be filled.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">inLocalCallingArea</td>
<td style="text-align: left">Boolean value to indicate that the search for available numbers must consider overlayed areas. Only applied for localNumber searching.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters: <br> ? : matches any single digit <br> * : matches zero or more digits<br> Don&rsquo;t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
** state, zip and areaCode are mutually exclusive, you may use only one of them per request.
</aside>

<aside class="notice">
*** localNumber and inLocalCallingArea only applies for searching numbers in specific areaCode.
</aside>

<h3 id="example-search-for-city-state-and-pattern">Example: Search for City/State and Pattern</h3>

<blockquote>
<p>To find up to two available local numbers in the city of Cary, North Carolina, that match the pattern &ldquo;<em>2?9</em>&rdquo;, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Search 3 available local phone numbers with area code 910</span>

<span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">3</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">3</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "number": "{number1}",
    "nationalNumber": "{national_number1}",
    "patternMatch": "          2 9 ",
    "city": "CARY",
    "lata": "426",
    "rateCenter": "CARY",
    "state": "NC",
    "price": "0.60"
  },
  {
    "number": "{number2}",
    "nationalNumber": "{national_number2}",
    "patternMatch": "          2 9 ",
    "city": "CARY",
    "lata": "426",
    "rateCenter": "CARY",
    "state": "NC",
    "price": "0.60"
  }
]
</code></pre>

<h3 id="example-search-with-areacode-and-localnumber">Example: Search with areaCode and localNumber</h3>

<blockquote>
<p>To find up to two available local numbers in the area code 919 which the numbers begins with 867 and inside overlayed areas, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "city": "RALEIGH",
        "rateCenter": "RALEIGH",
        "state": "NC",
        "price": "0.60"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "city": "RALEIGH",
        "rateCenter": "RALEIGH",
        "state": "NC",
        "price": "0.60"
    }
]
</code></pre>

<h2 id="post-availablenumbers-local">POST availableNumbers/local</h2>

<p>Searches and order available local numbers by location criteria.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">city</td>
<td style="text-align: left">A city name.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">A two-letter US state abbreviation (&ldquo;CA&rdquo; for California).</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">A 5-digit US ZIP code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">areaCode</td>
<td style="text-align: left">A 3-digit telephone area code.</td>
<td style="text-align: left">**</td>
</tr>
<tr>
<td style="text-align: left">localNumber</td>
<td style="text-align: left">It is defined as the first digits of a telephone number inside an area code for filtering the results. It must have at least 3 digits and the areaCode field must be filled.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">inLocalCallingArea</td>
<td style="text-align: left">Boolean value to indicate that the search for available numbers must consider overlayed areas. Only applied for localNumber searching.</td>
<td style="text-align: left">***</td>
</tr>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters: <br> ? : matches any single digit <br> * : matches zero or more digits<br> Don&rsquo;t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
** state, zip and areaCode are mutually exclusive, you may use only one of them per request.
</aside>

<aside class="notice">
*** localNumber and inLocalCallingArea only applies for searching numbers in specific areaCode.
</aside>

<h3 id="example-search-and-allocate-for-city-state">Example: Search and allocate for city/state</h3>

<blockquote>
<p>To search and order two available local numbers in the city of Cary, North Carolina, make the following request</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X POST  https://api.catapult.inetwork.com/v1/availableNumbers/local?city<span class="o">=</span>Cary&amp;state<span class="o">=</span>NC&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Search 2 available local phone numbers with area code 910 and order them</span>

<span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">serchAndOrder</span><span class="p">(</span><span class="s2">"local"</span><span class="p">,</span> <span class="p">{</span> <span class="na">areaCode</span> <span class="p">:</span> <span class="s2">"910"</span><span class="p">,</span> <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns a <code class="prettyprint">201</code> response JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "price": "0.60",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId1}"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "price": "0.60",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId2}"
    }
]
</code></pre>

<h2 id="get-availablenumbers-tollfree">GET availableNumbers/tollFree</h2>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum number of numbers to return (default 10, maximum 5000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">pattern</td>
<td style="text-align: left">A number pattern that may include letters, digits, and the following wildcard characters:<br>? : matches any single digit<br> * : matches zero or more digits<br>Don’t forget to encode wildcard characters in the requested URL.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<blockquote>
<p>To find up to two available toll free numbers that match the pattern &ldquo;<em>2?9</em>&rdquo;, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/availableNumbers/tollFree?pattern<span class="o">=</span><span class="k">*</span>2%3F9<span class="k">*</span>&amp;quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">pattern</span><span class="p">:</span> <span class="s2">"*2?9*"</span>
 <span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">pattern</span><span class="p">:</span> <span class="s2">"*2?9*"</span> <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "number":"{number1}",
    "nationalNumber":"{national_number1}",
    "patternMatch":"        2  9  ",
    "price":"2.00"
  },
  {
    "number":"{number2}",
    "nationalNumber":"{national_number2}",
    "patternMatch":"          2 9 ",
    "price":"2.00"
  }
]
</code></pre>

<h2 id="post-availablenumbers-tollfree">POST availableNumbers/tollFree</h2>

<p>Searches and order available Toll Free numbers.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quantity</td>
<td style="text-align: left">The maximum quantity of numbers for searching and order (default 1, maximum 10).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-search-and-activate-toll-free-phone-number">Example: Search and activate toll free phone number</h3>

<blockquote>
<p>To search and order two available toll free numbers, make the following request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -v -X POST  https://api.catapult.inetwork.com/v1/availableNumbers/tollFree?quantity<span class="o">=</span>2 <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Search and order tollfree numbers</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">AvailableNumber</span><span class="p">.</span><span class="nx">searchAndOrder</span><span class="p">(</span><span class="s2">"tollFree"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">quantity</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numbers</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns a <code class="prettyprint">201</code> response JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "number": "{number1}",
        "nationalNumber": "{national_number1}",
        "price": "2.00",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId1}"
    },
    {
        "number": "{number2}",
        "nationalNumber": "{national_number2}",
        "price": "2.00",
        "location": "https://.../v1/users/.../phoneNumbers/{numberId2}"
    }
]
</code></pre>

          <h1 id="bridges">Bridges</h1>

<p>The Bridges resource allows you to bridge two calls together allowing for two way audio between them. A common example is bridging an incoming phone call together with a outgoing phone call.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique ID of the bridge.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Bridge state. Possible state values are described here.</td>
</tr>
<tr>
<td style="text-align: left">callIds</td>
<td style="text-align: left">List of call Ids that will be in the bridge.</td>
</tr>
<tr>
<td style="text-align: left">calls</td>
<td style="text-align: left">The URL used to retrieve the calls in a specific bridge.</td>
</tr>
<tr>
<td style="text-align: left">bridgeAudio</td>
<td style="text-align: left">Enable/Disable two way audio path.</td>
</tr>
<tr>
<td style="text-align: left">completedTime</td>
<td style="text-align: left">The time when the bridge was completed.</td>
</tr>
<tr>
<td style="text-align: left">createdTime</td>
<td style="text-align: left">The time that bridge was created.</td>
</tr>
<tr>
<td style="text-align: left">activatedTime</td>
<td style="text-align: left">The time that the bridge got into active state.</td>
</tr>
</tbody></table>

<h2 id="bridge-state">Bridge state</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">created</td>
<td style="text-align: left">The bridge was created but the audio was never bridged.</td>
</tr>
<tr>
<td style="text-align: left">active</td>
<td style="text-align: left">The bridge has two active calls and the audio was already bridged before.</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">The bridge calls are on hold (bridgeAudio was set to false).</td>
</tr>
<tr>
<td style="text-align: left">completed</td>
<td style="text-align: left">The bridge was completed. The bridge is completed when all calls hangup or when all calls are removed from bridge.</td>
</tr>
<tr>
<td style="text-align: left">error</td>
<td style="text-align: left">Some error was detected in bridge.</td>
</tr>
</tbody></table>

<h2 id="get-bridges">GET bridges</h2>

<p>Get list of bridges for a given user.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of bridges. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of bridges. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-of-a-user-39-s-bridges">Example: List of a user&rsquo;s bridges</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/bridges/transations <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">bridges</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasNextPage</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getNextPage</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span><span class="na">bridges</span><span class="p">:</span> <span class="p">[]};</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">bridges</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "id": "{bridgeId}",
    "state": "completed",
    "bridgeAudio": "true",
    "calls":"https://.../v1/users/{userId}/bridges/{bridgeId}/calls",
    "createdTime": "2013-04-22T13:55:30.279Z",
    "activatedTime": "2013-04-22T13:55:30.280Z",
    "completedTime": "2013-04-22T13:56:30.122Z"
  },
  {
    "id": "{bridgeId}",
    "state": "completed",
    "bridgeAudio": "true",
    "calls":"https://.../v1/users/{userId}/bridges/{bridgeId}/calls",
    "createdTime": "2013-04-22T13:58:30.121Z",
    "activatedTime": "2013-04-22T13:58:30.122Z",
    "completedTime": "2013-04-22T13:59:30.122Z"
  }
]
</code></pre>

<h2 id="post-bridges">POST bridges</h2>

<p>Create a new bridge.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bridgeAudio</td>
<td style="text-align: left">Enable/Disable two way audio path (default = true).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callIds</td>
<td style="text-align: left">The list of call ids in the bridge. If the list of call ids is not provided the bridge is logically created and it can be used to place calls later.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-a-bridge-with-two-calls-and-two-way-voice-path">Example: Create a bridge with two calls and two way voice path</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"bridgeAudio": "true", "callIds": ["{callId1}","{callId2}"] }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbs5kwrsyx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g74pprsq'</span><span class="p">]</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbsx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g7prsq'</span><span class="p">]</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Status structured like this:
<code class="prettyprint">
HTTP/1.1 201 Created
Location: /v1/users/{userId}/calls/{bridgeId}
</code></p>
</blockquote>

<h3 id="example-create-a-bridge-without-calls">Example: Create a bridge without calls</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"bridgeAudio": "true" }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">callIds</span><span class="p">:</span> <span class="p">[</span><span class="s1">'c-qbs5kwrsyx6wsdi'</span><span class="p">,</span> <span class="s1">'c-zan4g74pprsq'</span><span class="p">]</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">bridgeAudio</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Status structured like this:
<code class="prettyprint">
HTTP/1.1 201 Created
Location: /v1/users/{userId}/calls/{bridgeId}
</code></p>
</blockquote>

<h2 id="get-bridges-bridgeid">GET bridges/{bridgeId}</h2>

<p>Gets information about a specific bridge. No query parameters are supported.</p>

<h3 id="example-get-information-about-a-bridge">Example: Get information about a bridge</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'brg-65dhjwrmbasiei'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'brg-65dhmbasiei'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{bridgeId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bridgeAudio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"calls"</span><span class="p">:</span><span class="s2">"https://.../v1/users/{userId}/bridges/{bridgeId}/calls"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:55:30.279Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"activatedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:55:30.280Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-22T13:59:30.122Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-bridges-bridgeid">POST bridges/{bridgeId}</h2>

<p>Change calls in a bridge and bridge/unbridge the audio.</p>

<h3 id="example-add-call-callid1-and-call-callid2-in-a-bridge-bridgeid-with-two-way-voice-path">Example: Add call {callId1} and call {callId2} in a bridge {bridgeId} with two way voice path</h3>

<h3 id="example-removing-call-callid2-from-the-bridge-created-in-the-example-above">Example: Removing call {callId2} from the bridge created in the example above</h3>

<h3 id="example-adding-two-different-calls-callid3-and-callid4-in-the-bridge-above-and-put-them-on-hold">Example: Adding two different calls {callId3} and {callId4} in the bridge above and put them on hold</h3>

<h3 id="example-bridging-the-audio-again">Example: Bridging the audio again</h3>

<h3 id="example-removing-all-calls-from-bridge">Example: Removing all calls from bridge.</h3>

<h2 id="post-bridges-bridgeid-audio">POST bridges/{bridgeId}/audio</h2>

<p>Play an audio file or speak a sentence in a bridge.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-play-an-audio-file">Example: Play an Audio file</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": "http://example.com/audio.mp3"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-an-audio-file-playing">Example: Stop an Audio File Playing</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon in the mean time:</span>
<span class="c1">//Stop Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-speak-a-sentence">Example: Speak a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "gender": "female",
        "sentence": "Hello, thank you for calling.",
        "locale": "en_US",
        "voice": "julie"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence with options</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"bridgeId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"bridgeId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Speak sentence in a bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-a-sentence">Example: Stop a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"sentence": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon</span>
<span class="c1">//Speak sentence in a bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"bridgeID"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-bridges-bridgeid-calls">GET bridges/{bridgeId}/calls</h2>

<p>Get the list of calls that are on the bridge.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/bridges/<span class="o">{</span>bridgeId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">getCalls</span><span class="p">(</span><span class="s1">'brg-65dhjbiei'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Bridge</span><span class="p">.</span><span class="nx">getCalls</span><span class="p">(</span><span class="s1">'brg-65dhjrmbasiei'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "activeTime": "2013-05-22T19:49:39Z",
        "direction": "out",
        "from": "{fromNumber}",
        "id": "{callId1}",
        "bridgeId": "{bridgeId}",
        "startTime": "2013-05-22T19:49:35Z",
        "state": "active",
        "to": "{toNumber1}",
        "recordingEnabled": false,
        "events": "https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId1}/events",
        "bridge": "https://api.catapult.inetwork.com/v1/users/{userId}/bridges/{bridgeId}"
    },
    {
        "activeTime": "2013-05-22T19:50:16Z",
        "direction": "out",
        "from": "{fromNumber}",
        "id": "{callId2}",
        "bridgeId": "{bridgeId}",
        "startTime": "2013-05-22T19:50:16Z",
        "state": "active",
        "to": "{toNumber2}",
        "recordingEnabled": false,
        "events": "https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId2}/events",
        "bridge": "https://api.catapult.inetwork.com/v1/users/{userId}/bridges/{bridgeId}"
    }
]
</code></pre>

          <h1 id="calls">Calls</h1>

<p>The Calls resource lets you make phone calls and view information about previous inbound and outbound calls.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique ID of the call.</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">Call direction: values are <code class="prettyprint">in</code> for an incoming call, <code class="prettyprint">out</code> for an outgoing call</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The phone number or SIP address that made the call. Phone numbers are in E.164 format (e.g. +15555555555) -or- SIP addresses (e.g. identify@domain.com).</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The phone number or SIP address that received the call. Phone numbers are in E.164 format (e.g. +15555555555) -or- SIP addresses (e.g. identify@domain.com).</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The call state. Described below, values are started <code class="prettyprint">rejected</code>, <code class="prettyprint">active</code>, <code class="prettyprint">completed</code>, <code class="prettyprint">transferring</code></td>
</tr>
<tr>
<td style="text-align: left">startTime</td>
<td style="text-align: left">Date when the call was created. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">activeTime</td>
<td style="text-align: left">Date when the call was answered. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">endTime</td>
<td style="text-align: left">Date when the call ended. Timestamp follows the ISO8601 format.</td>
</tr>
<tr>
<td style="text-align: left">callTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for call answer before timing out in seconds (milliseconds).</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The server URL where the call events related to the call will be sent.</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. Values are <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code> Default is <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl&rsquo;s response before timing out (milliseconds).</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The server URL used to send the call events if the request to callbackUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">chargeableDuration</td>
<td style="text-align: left">The number of seconds the call will be billed for.</td>
</tr>
<tr>
<td style="text-align: left">transferTo</td>
<td style="text-align: left">Phone number or SIP address that the call is going to be transferred to.</td>
</tr>
<tr>
<td style="text-align: left">transferCallerId</td>
<td style="text-align: left">This is the caller id that will be used when the call is transferred. This parameter is only considered in transfer state. <br>- transferring an incoming call: allowed values are 1) &ldquo;private&rdquo; 2) the incoming call &ldquo;from&rdquo; number or 3) any Bandwidth number owned by user. <br>- transferring an outgoing call call: allowed values are 1) &ldquo;private&rdquo; or 2) any Bandwidth phone number owned by user.</td>
</tr>
<tr>
<td style="text-align: left">whisperAudio</td>
<td style="text-align: left">Audio to be played to the caller that the call will be transferred to.</td>
</tr>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge where the call will be added.</td>
</tr>
<tr>
<td style="text-align: left">bridge</td>
<td style="text-align: left">The URL of the bridge, if any, that contains the call.</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">The id of the conference where the call will be added. This property is required if you want to add this call to a conference.</td>
</tr>
<tr>
<td style="text-align: left">conference</td>
<td style="text-align: left">The complete URL of the conference resource the call is associated with.</td>
</tr>
<tr>
<td style="text-align: left">events</td>
<td style="text-align: left">The URL to retrieve the events related to the call.</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded after being created. Set to <code class="prettyprint">true</code> to enable. Default is <code class="prettyprint">false</code></td>
</tr>
<tr>
<td style="text-align: left">recordingFileFormat</td>
<td style="text-align: left">The file format of the recorded call. Supported values are <code class="prettyprint">wav</code> (default) and <code class="prettyprint">mp3</code>.</td>
</tr>
<tr>
<td style="text-align: left">recordingMaxDuration</td>
<td style="text-align: left">Indicates the maximum duration of call recording in seconds. Default value is 1 hour.</td>
</tr>
<tr>
<td style="text-align: left">transcriptionEnabled</td>
<td style="text-align: left">Whether all the recordings for this call should be be automatically transcribed.</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">Any string, it will be included in the callback events of the call.</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of calls. If no value is specified the default is 0.</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of calls. If no value is specified the default value is 25 (maximum value 1000).</td>
</tr>
<tr>
<td style="text-align: left">sipHeaders</td>
<td style="text-align: left">Map of Sip headers prefixed by &ldquo;X-&rdquo;. Up to 5 headers can be sent per call. Max length for header and value is 256 characters.</td>
</tr>
</tbody></table>

<h2 id="call-state">Call State</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">started</td>
<td style="text-align: left">Call is created but not answered.</td>
</tr>
<tr>
<td style="text-align: left">rejected</td>
<td style="text-align: left">Incoming call was rejected.</td>
</tr>
<tr>
<td style="text-align: left">active</td>
<td style="text-align: left">Call is answered and isn’t completed.</td>
</tr>
<tr>
<td style="text-align: left">completed</td>
<td style="text-align: left">Call is finished.</td>
</tr>
<tr>
<td style="text-align: left">transferring</td>
<td style="text-align: left">Transferring connects audio to a new outbound call.</td>
</tr>
</tbody></table>

<h2 id="get-calls">GET calls</h2>

<p>Gets a list of active and historic calls you made or received. Since this operation uses HTTP GET, all the properties are specified as HTTP request parameters.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge for querying a list of calls history (pagination do not apply).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">The id of the conference for querying a list of calls history (pagination do not apply).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The number to filter calls that came from (must be either an E.164 formatted number, like +19195551212, or a valid SIP URI, like sip:someone@somewhere.com).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The number to filter calls that was called to (must be either an E.164 formatted number, like +19195551212, or a valid SIP URI, like sip:someone@somewhere.com).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of calls. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of calls. If no value is specified the default value is 25 (maximum value 1000).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sortOrder</td>
<td style="text-align: left">How to sort the calls. Values are <code class="prettyprint">asc</code> or <code class="prettyprint">desc</code> If no value is specified the default value is <code class="prettyprint">desc</code></td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-list-your-calls">Example: List your calls</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/calls/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callId1}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{number}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "completed",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "endTime": "2013-02-08T13:15:55.887Z",
        "chargeableDuration": 60,
        "events": "https://.../calls/{callId1}/events",
        "sipHeaders" : {
                "X-Header-1" : "value-1",
                "X-Header-2" : "value2"
        }
    },
    {
        "id": "{callId2}",
        "direction": "out",
        "from": "{number}",
        "to": "{toNumber}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "active",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "events": "https://.../calls/{callId2}/events"
    }
]
</code></pre>

<h3 id="example-list-your-calls-by-from-number-fromnumber">Example: List your calls by from number {fromNumber}</h3>
<pre class="highlight shell"><code>curl -v -X GET  https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>user-id<span class="o">}</span>/calls?from<span class="o">=</span>%2b19195551212 <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"+19195551212"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callId1}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{toNumber1}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "completed",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "endTime": "2013-02-08T13:15:55.887Z",
        "chargeableDuration": 60,
        "events": "https://.../calls/{callId1}/events"
    },
    {
        "id": "{callId2}",
        "direction": "out",
        "from": "{fromNumber}",
        "to": "{toNumber2}",
        "recordingEnabled": false,
        "callbackUrl": "",
        "state": "active",
        "startTime": "2013-02-08T13:15:47.587Z",
        "activeTime": "2013-02-08T13:15:52.347Z",
        "events": "https://.../calls/{callId2}/events"
    }
]
</code></pre>

<h2 id="post-calls">POST calls</h2>

<p>Creates a new outbound phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">A Bandwidth phone number on your account the call should come from (must be in E.164 format, like <code class="prettyprint">+19195551212</code>).</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">The number to call (must be either an E.164 formatted number, like <code class="prettyprint">+19195551212</code>, or a valid SIP URI, like <code class="prettyprint">sip:someone@somewhere.com</code>).</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">callTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for call answer before timing out in seconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The full server URL where the call events related to the Call will be sent to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via <code class="prettyprint">HTTP GET</code> or <code class="prettyprint">HTTP POST</code>. Values are <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code> (if not set the default is <code class="prettyprint">POST</code>).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The full server URL used to send the callback event if the request to callbackUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">bridgeId</td>
<td style="text-align: left">The id of the bridge where the call will be added.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">conferenceId</td>
<td style="text-align: left">Id of the conference where the call will be added. This property is required if you want to add this call to a conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded after being created. Set to <code class="prettyprint">true</code> to enable. Default is <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingMaxDuration</td>
<td style="text-align: left">Indicates the maximum duration of call recording in seconds. Default value is 1 hour.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transcriptionEnabled</td>
<td style="text-align: left">Whether all the recordings for this call is going to be automatically transcribed.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sipHeaders</td>
<td style="text-align: left">Map of Sip headers prefixed by <code class="prettyprint">X-</code>. Up to 5 headers can be sent per call.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-an-outbound-phone-call">Example: Create an outbound phone call</h3>

<aside class="notice">
The call resource returned in the &ldquo;Location&rdquo; header can be modified to change the call (for example, play audio files, transfer to a different number, or hang up).
</aside>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{fromNumber}",
        "to": "{toNumber}"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"{fromNumber}"</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="s2">"{toNumber}"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<h3 id="example-create-call-and-start-recording-it">Example: Create call and start recording it</h3>

<h3 id="example-create-a-call-in-a-bridge">Example: Create a call in a bridge</h3>

<h3 id="example-create-an-outbound-call-with-callback-and-fallback-url">Example: Create an outbound call with callback and fallback URL</h3>

<h3 id="example-create-an-outbound-call-with-tag-property">Example: Create an outbound call with tag property</h3>

<h3 id="example-create-an-outbound-call-to-a-sip-uri">Example: Create an outbound call to a SIP URI</h3>

<p>Make a call to a SIP URI:</p>

<aside class="notice">
* The support is based on SIP RFC 3261.
* If the INVITE fails (receive a non-2xx final response), an event will be generated to the application indicating the call has hung up.
* SIPS is not currently supported.
</aside>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{fromNumber}",
        "to": "{sip:someone@somewhere.com:}",
        "sipHeaders": {
            "X-Header-1": "value1",
            "X-Header-2": "value2"
        }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">from</span><span class="p">:</span> <span class="s2">"{fromNumber}"</span><span class="p">,</span>
    <span class="na">to</span><span class="p">:</span> <span class="s2">"{sip:someone@somewhere.com}"</span><span class="p">,</span>
    <span class="na">sipHeaders</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"X-Header-1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>
        <span class="s2">"X-Header-2"</span><span class="p">:</span> <span class="s2">"value2"</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<h2 id="get-calls-callid">GET calls/{callId}</h2>

<p>Gets information about an active or completed call. No query parameters are supported.</p>

<h3 id="example-get-call-information">Example: Get Call Information</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"{callId}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">respone</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"activeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:20Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"chargeableDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"out"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/events"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fallbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example-fallback.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{fromNumber}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{callId}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"recordingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"recordings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/recordings"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T19:13:09Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{toNumber}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transcriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transcriptions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../calls/{callId}/transcriptions"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sipHeaders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"X-header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-calls-callid">POST calls/{callId}</h2>

<p>Update properties of an active phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The call state. Possible values: <br> <code class="prettyprint">rejected</code> to reject not answer<br> <code class="prettyprint">active</code> to answer the call<br><code class="prettyprint">completed</code> to hangup the call<br><code class="prettyprint">transferring</code> to start and connect call to a new outbound call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">recordingEnabled</td>
<td style="text-align: left">Indicates if the call should be recorded. Values <code class="prettyprint">true</code> or <code class="prettyprint">false</code>. You can turn recording on/off and have multiple recordings on a single call.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transferTo</td>
<td style="text-align: left">Phone number or SIP address that the call is going to be transferred to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">transferCallerId</td>
<td style="text-align: left">This is the caller id that will be used when the call is transferred. This parameter is only considered in transfer state.<br>- transferring an incoming call: allowed values are 1) <code class="prettyprint">private</code> 2) the incoming call <code class="prettyprint">from</code> number or 3) any Bandwidth number owned by user.<br>- transferring an outgoing call call: allowed values are 1) <code class="prettyprint">private</code> or 2) any Bandwidth phone number owned by user.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">whisperAudio</td>
<td style="text-align: left">Audio to be played to the caller that the call will be transferred to. See /audio.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The server URL where the call events for the new call will be sent upon transferring.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-answer-an-incoming-phone-call">Example: Answer an Incoming Phone Call</h3>

<h3 id="example-reject-an-incoming-phone-call">Example: Reject an Incoming Phone Call</h3>

<h3 id="example-hang-up-a-phone-call">Example: Hang Up a Phone Call</h3>

<h3 id="example-turn-call-recording-on">Example: Turn call recording ON</h3>

<h3 id="example-turn-call-recording-off">Example: Turn call recording OFF</h3>

<h3 id="example-transfer-a-call">Example: Transfer a call</h3>

<h3 id="example-transfer-a-call-using-the-caller-id-of-the-party-being-transferred">Example: Transfer a call using the caller Id of the party being transferred</h3>

<h3 id="example-transfer-a-call-and-say-something-before-bridging-the-calls">Example: Transfer a call and say something before bridging the calls</h3>

<h3 id="example-transfer-a-call-and-say-something-before-bridging-the-calls">Example: Transfer a call and say something before bridging the calls</h3>

<h2 id="post-calls-callid-audio">POST calls/{callId}/audio</h2>

<p>Plays an audio file or speak a sentence in a phone call.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">loopEnabled</td>
<td style="text-align: left">When value is <code class="prettyprint">true</code> , the audio will keep playing in a loop. Default: <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the events delivered when the audio playback starts or finishes.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-speak-a-sentence">Example: Speak a Sentence</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "gender": "female",
        "sentence": "Hello, thank you for calling.",
        "locale": "en_US",
        "voice": "julie"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence with options</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Speak sentence in a call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-interrupt-stop-a-sentence-from-speaking">Example: Interrupt/stop a sentence from speaking.</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"sentence": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon</span>
<span class="c1">//Speak sentence in a call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-speak-a-sentence-with-male-gender-voice">Example: Speak a Sentence with male gender voice</h3>

<h3 id="example-speaking-a-sentence-with-a-given-locale-gender-and-voice">Example: Speaking a sentence with a given locale, gender and voice.</h3>

<h3 id="example-speaking-a-sentence-with-a-break">Example: Speaking a sentence with a break</h3>

<h3 id="example-play-an-audio-file">Example: Play an Audio File</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": "http://example.com/audio.mp3"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file on call</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-stop-an-audio-file-playing">Example: Stop an Audio File Playing</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"fileUrl": ""}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// coming soon in the mean time:</span>
<span class="c1">//Stop Audio file on bridge</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-calls-callid-dtmf">POST calls/{callId}/dtmf</h2>

<p>Send DTMF (phone keypad digit presses).</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">dtmfOut</td>
<td style="text-align: left">String containing the DTMF characters to be sent in a call.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-send-the-digits-quot-9193334444-quot">Example: Send the digits &ldquo;9193334444&rdquo;</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/dtmf <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{"dtmfOut": "9193334444"}'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">sendDtmf</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="s2">"9193334444"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">sendDtmf</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="s2">"9193334444"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-calls-callid-events">GET calls/{callId}/events</h2>

<p>Gets the events that occurred during the call. No query parameters are supported.</p>

<h3 id="event-properties">Event Properties</h3>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The call event id.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the event occurred.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">The name of the event.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Data about event.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-events-for-a-call">Example: Get events for a call.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/events <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvents</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">events</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvents</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">events</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": "{callEventId1}",
        "time": "2012-09-19T13:55:41.343Z",
        "name": "create"
    },
    {
        "id": "{callEventId2}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "answer"
    },
    {
        "id": "{callEventId3}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "CHANNEL_EXECUTE",
        "data": "{"applicationName":"park"}"
    },
    {
        "id": "{callEventId4}",
        "time": "2012-09-19T13:55:51.283Z",
        "name": "CHANNEL_EXECUTE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    },
    {
        "id": "{callEventId5}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "playback",
        "data": "start"
    },
    {
        "id": "{callEventId6}",
        "time": "2012-09-19T13:55:45.583Z",
        "name": "playback",
        "data": "done"
    },
    {
        "id": "{callEventId7}",
        "time": "2012-09-19T13:55:55.503Z",
        "name": "CHANNEL_EXECUTE_COMPLETE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    },
    {
        "id": "{callEventId8}",
        "time": "2012-09-19T13:55:58.323Z",
        "name": "hangup",
        "data": "NORMAL_CLEARING"
    },
    {
        "id": "{callEventId9}",
        "time": "2012-09-19T13:55:58.343Z",
        "name": "CHANNEL_EXECUTE_COMPLETE",
        "data": "{"applicationName":"playback","applicationData":"test.mp3"}"
    }
]
</code></pre>

<h2 id="get-calls-callid-events-calleventid">GET calls/{callId}/events/{callEventId}</h2>

<p>Gets information about one call event. No query parameters are supported.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/events/<span class="o">{</span>eventId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvent</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="nx">eventId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">callEvent</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getEvent</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="nx">eventId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callEvent</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce-qg4vz6anrfogri7hhduqlgq"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1419032854964</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hangup"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="get-calls-callid-recordings">GET calls/{callId}/recordings</h2>

<p>Retrieve all recordings related to the call.</p>

<h3 id="example-get-recordings-for-a-call-id">Example: Get recordings for a call Id.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/recordigns <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getRecordings</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getRecordings</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>GET /v1/{userId}/calls/{callId}/recordings
HTTP/1.1 200 OK

[
    {
        "endTime": "2013-02-08T12:06:55.007Z",
        "id": "{recordingId1}",
        "media": "https://.../v1/users/.../media/{callId}-1.wav",
        "call": "https://.../v1/users/.../calls/{callId}",
        "startTime": "2013-02-08T12:05:17.807Z",
        "state": "complete"
    },
    {
        "endTime": "2013-02-08T13:15:65.887Z",
        "id": "{recordingId2}",
        "media": "https://.../v1/users/.../media/{callId}-2.wav",
        "call": "https://.../v1/users/.../calls/{callId}",
        "startTime": "2013-02-08T13:15:55.887Z",
        "state": "complete"
    }
]
</code></pre>

<h2 id="get-calls-callid-transcriptions">GET calls/{callId}/transcriptions</h2>

<p>Retrieve all transcriptions related to the call.</p>

<h3 id="example-retrieve-all-transcriptions-related-to-the-call">Example: Retrieve all transcriptions related to the call.</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/transcriptions <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getTranscriptions</span><span class="p">(</span><span class="nx">callId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getTranscriptions</span><span class="p">(</span><span class="nx">callId</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-calls-callid-gather">POST calls/{callId}/gather</h2>

<p>Collects a series of DTMF digits from a phone call with an optional prompt. This request returns immediately. When gather finishes, an event with the results will be posted to the callback URL.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxDigits</td>
<td style="text-align: left">The maximum number of digits to collect, not including terminating digits (maximum 30).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">interDigitTimeout</td>
<td style="text-align: left">Stop gathering if a DTMF digit is not detected in this many seconds (default 5.0; maximum 30.0).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">terminatingDigits</td>
<td style="text-align: left">A string of DTMF digits that end the gather operation immediately if any one of them is detected (default “#”; an empty string means collect all DTMF until maxDigits or the timeout).<br>Example:<br><code class="prettyprint">#</code> : The gather ends if # is detected (this is the default behavior if the terminatingDigits property is not specified)<br><code class="prettyprint">0#*</code> : The gather ends if either 0, #, or * is detected<br>Don’t forget to encode keypad digits that have special meaning in a URL, like #.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string you choose that will be included with the response and events for this gather operation.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.sentence</td>
<td style="text-align: left">The text to speak for the prompt (uses the call audio resource defaults). NOTE: encode special characters in the sentence.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.gender</td>
<td style="text-align: left">The gender to use for the voice reading the prompt sentence (uses the call audio resource defaults).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.locale</td>
<td style="text-align: left">The language and region to use for the voice reading the prompt sentence (uses the call audio resource defaults).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.loopEnabled</td>
<td style="text-align: left">When value is true, the audio will keep playing in a loop. Default: false</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.bargeable</td>
<td style="text-align: left">Make the prompt (audio or sentence) bargeable (will be interrupted at first digit gathered). Default: true</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">prompt.fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-play-a-prompt-sentence">Example: Play a prompt sentence</h3>

<p>Play a prompt sentence, then wait until 5 digits are pressed. Stop gathering digits if * is pressed, or if 7 seconds pass with no digits pressed.</p>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
        -d <span class="se">\</span>
    <span class="s1">'
    {
        "maxDigits":"5",
        "terminatingDigits":"*",
        "interDigitTimeout":"7",
        "prompt": {
            "sentence": "Please enter your 5 digit code"
        }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Create Gather</span>
<span class="c1">//The gather ends if either 0, #, or * is detected</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span>   <span class="p">{</span>
    <span class="s2">"maxDigits"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span>
    <span class="s2">"terminatingDigits"</span><span class="p">:</span><span class="s2">"*"</span><span class="p">,</span>
    <span class="s2">"interDigitTimeout"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span>
    <span class="s2">"prompt"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"sentence"</span><span class="p">:</span> <span class="s2">"Please enter your 5 digit code"</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">createGather</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">createGather</span><span class="p">(</span><span class="s2">"callId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="get-calls-callid-gather-gatherid">GET calls/{callId}/gather/{gatherId}</h2>

<p>Get the gather DTMF parameters and results.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/gather/<span class="o">{</span>gatherId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">getGather</span><span class="p">(</span><span class="s2">"{callId}"</span><span class="p">,</span> <span class="s2">"{gatherId}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{gatherId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"max-digits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-12T19:33:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-12T19:33:59Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"call"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.catapult.inetwork.com/v1/users/{userId}/calls/{callId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-calls-callid-gather-gatherid">POST calls/{callId}/gather/{gatherId}</h2>

<p>Update the gather.
<aside class="notice">
The only update allowed is state:completed to stop the gather.
</aside></p>

<h3 id="example-stop-the-gather-dtmf">Example: Stop the gather DTMF</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/calls/<span class="o">{</span>callId<span class="o">}</span>/gather/<span class="o">{</span>gatherId<span class="o">}</span> <span class="se">\</span>
  -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "state": "completed"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">completeGather</span><span class="p">(</span><span class="s2">"{callId}"</span><span class="p">,</span> <span class="s2">"{gatherId}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{});</span>
</code></pre>

          <h1 id="conferences">Conferences</h1>

<p>The Conference resource allows you create conferences, add members to it, play audio, speak text, mute/unmute members, hold/unhold members and other things related to conferencing. Once a conference is created there is no timeout associated with it, i.e., the conference will stay in created state until it is explicitly terminated. After the last member of a conference is removed from it, the conference will be set automatically as completed.</p>

<h2 id="conference-properties">Conference Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique id of a conference.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Conference state. Possible state values are described below.</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The phone number that will host the conference.</td>
</tr>
<tr>
<td style="text-align: left">createdTime</td>
<td style="text-align: left">The time that the Conference was created (UTC).</td>
</tr>
<tr>
<td style="text-align: left">completedTime</td>
<td style="text-align: left">The time that the Conference was completed (UTC).</td>
</tr>
<tr>
<td style="text-align: left">activeMembers</td>
<td style="text-align: left">The number of active conference members.</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, all member can’t hear or speak in the conference. If `false”, all members can hear and speak in the conference (unless set at the member level).</td>
</tr>
<tr>
<td style="text-align: left">mute</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, all member can’t speak in the conference. If <code class="prettyprint">false</code>, all members can speak in the conference (unless set at the member level).</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The complete URL where the events related to the Conference will be sent to.</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via <code class="prettyprint">HTTP GET</code> or <code class="prettyprint">HTTP POST</code>. Values are <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code>, default: <code class="prettyprint">POST</code>.</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to callbackUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the conference.</td>
</tr>
</tbody></table>

<h2 id="conference-states">Conference States</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">created</td>
<td style="text-align: left">Conference was created and has no members.</td>
</tr>
<tr>
<td style="text-align: left">active</td>
<td style="text-align: left">Conference was created and has one or more ACTIVE members. As soon as the first member is added to a conference, the state is changed to active.</td>
</tr>
<tr>
<td style="text-align: left">completed</td>
<td style="text-align: left">The conference was completed. Once the conference is completed, It can not be used anymore.</td>
</tr>
</tbody></table>

<h2 id="conference-member-properties">Conference Member Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique id of a member.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The state of the member in the conference, values are <code class="prettyprint">active</code> or <code class="prettyprint">completed</code>.</td>
</tr>
<tr>
<td style="text-align: left">mute</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, the member can’t speak in the conference, but can hear audio. If “false”, the member can speak in the conference.</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, member can’t hear the conference. If <code class="prettyprint">false</code>, the member can hear the conference.</td>
</tr>
<tr>
<td style="text-align: left">joinTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member joins the conference. If <code class="prettyprint">false</code>, no tone is played when the member joins the conference.</td>
</tr>
<tr>
<td style="text-align: left">leavingTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member leaves the conference. If <code class="prettyprint">false</code>, no tone is played when the member leaves the conference.</td>
</tr>
<tr>
<td style="text-align: left">addedTime</td>
<td style="text-align: left">Date and time when the member was added to the conference (UTC).</td>
</tr>
<tr>
<td style="text-align: left">removedTime</td>
<td style="text-align: left">Date and time when the member was removed to the conference (UTC).</td>
</tr>
<tr>
<td style="text-align: left">call</td>
<td style="text-align: left">The URL of the call resource for this member.</td>
</tr>
</tbody></table>

<h2 id="post-conferences">POST conferences</h2>

<p>Creates a conference with no members.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The phone number that will host the conference.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The complete URL where the events related to the Conference will be sent to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via <code class="prettyprint">HTTP GET</code> or <code class="prettyprint">HTTP POST</code>. Values are <code class="prettyprint">get</code> or <code class="prettyprint">post</code>, default: <code class="prettyprint">post</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to callbackUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the conference.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-create-conference">Example: Create conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{number}"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="na">from</span><span class="p">:</span> <span class="s2">"+1234567890"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">conference</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="na">from</span><span class="p">:</span> <span class="s2">"+1234567890"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">conference</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Header structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 201 CREATED
Location: /v1/users/{userId}/conferences/{conferenceId}
</code></pre>

<h3 id="example-create-conference-with-callback-and-fallback-and-2-seconds-callback-39-s-timeout">Example: Create conference with callback and fallback and 2 seconds callback&rsquo;s timeout</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/ <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "from": "{number}",
        "callbackUrl":"http://my.callback.url",
        "callbackTimeout":"2000",
        "fallbackUrl":"http://my.fallback.url"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"{number}"</span><span class="p">,</span>
    <span class="s2">"callbackUrl"</span><span class="p">:</span><span class="s2">"http://my.callback.url"</span><span class="p">,</span>
    <span class="s2">"callbackTimeout"</span><span class="p">:</span><span class="s2">"2000"</span><span class="p">,</span>
    <span class="s2">"fallbackUrl"</span><span class="p">:</span><span class="s2">"http://my.fallback.url"</span>
<span class="p">};</span>

<span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">params</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">conference</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">conference</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Header structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 201 CREATED
Location: /v1/users/{userId}/conferences/{conferenceId}
</code></pre>

<h2 id="get-conferences-conferenceid">GET conferences/{conferenceId}</h2>

<p>Retrieve current properties for a conference.</p>

<h3 id="example-get-conference">Example: Get conference</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">conference</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">conference</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"activeMembers"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"createdTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-12T15:22:47-02"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+19703255647"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{conferenceId}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-conferences-conferenceid">POST conferences/{conferenceId}</h2>

<p>Change the conference properties and/or status.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Conference state. Possible state values are: <code class="prettyprint">completed</code> to terminate the conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, all member can’t hear or speak in the conference. If <code class="prettyprint">false</code>, all members can hear and speak in the conference (unless set at the member level).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">mute</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, all member can’t speak in the conference. If <code class="prettyprint">false</code>, all members can speak in the conference (unless set at the member level).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The complete URL where the events related to the Conference will be sent to.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackHttpMethod</td>
<td style="text-align: left">Determine if the callback event should be sent via HTTP GET or HTTP POST. Values are <code class="prettyprint">get</code> or <code class="prettyprint">post</code>, default: <code class="prettyprint">post</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out in milliseconds.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The URL used to send the callback event if the request to callbackUrl fails.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the conference.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-terminate-conference">Example: Terminate Conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "state": "completed"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="p">{</span><span class="na">state</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="p">{</span><span class="na">state</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){});</span>
</code></pre>

<h3 id="example-prevent-all-members-from-speaking">Example: Prevent all members from speaking</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "mute": "true"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="p">{</span><span class="na">mute</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="p">{</span><span class="na">mute</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){});</span>
</code></pre>

<h2 id="post-conferences-conferenceid-audio">POST conferences/{conferenceId}/audio</h2>

<p>Speak a text or play audio in the conference</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">loopEnabled</td>
<td style="text-align: left">When value is <code class="prettyprint">true</code> , the audio will keep playing in a loop. Default: <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the events delivered when the audio playback starts or finishes.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
* For playing text-to-speech, sentence is required, for playing an audio file, fileUrl is required.
</aside>

<h3 id="example-speak-text-in-conference">Example: Speak text in conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "sentence": "Hello everyone on the conference today",
        "gender": "female",
        "locale": "en_US",
        "voice": "kate"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence in a conference</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">speakSentence</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Speak sentence with options</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-play-audio-in-conference">Example: Play audio in conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "fileUrl": "https://catapult.inetwork.com/.../media/{mediaName1}"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file on conference</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioFile</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Play Audio File on loop</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fileUrl</span>     <span class="p">:</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">,</span>
    <span class="na">loopEnabled</span> <span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-conferences-conferenceid-members">POST conferences/{conferenceId}/members</h2>

<p>Add members to a conference.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">callId</td>
<td style="text-align: left"><strong>Important:</strong> The callId must refer to an active call that was created using this conferenceId.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">joinTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member joins the conference. If <code class="prettyprint">false</code>, no tone is played when the member joins the conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">leavingTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member leaves the conference. If <code class="prettyprint">false</code>, no tone is played when the member leaves the conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">mute</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, member can’t speak in the conference. If <code class="prettyprint">false</code>, this members can speak in the conference (unless set at the conference level).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, member can’t hear or speak in the conference. If <code class="prettyprint">false</code>, member can hear and speak in the conference (unless set at the conference level).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-add-member-to-a-conference">Example: Add member to a conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "callId": "{callId}",
        "joinTone": "false",
        "leavingTone": "false"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">createMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="p">{</span><span class="na">callId</span><span class="p">:</span> <span class="s2">"callID"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">member</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">createMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="p">{</span><span class="na">callId</span><span class="p">:</span> <span class="s2">"callID"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">member</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Header structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 201 CREATED
Location: /v1/users/{userId}/conferences/{confId}/members/{memberId}
</code></pre>

<h2 id="get-conferences-conferenceid-members">GET conferences/{conferenceId}/members</h2>

<p>List all members from a conference. If a member had already hung up or removed from conference it will be displayed as completed.</p>

<h3 id="example-listing-members-from-a-conference">Example: Listing members from a conference</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">getMembers</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">members</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">getMembers</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">members</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
            "addedTime": "2013-07-12T15:54:47-02",
            "hold": false,
            "id": "{memberId1}",
            "mute": false,
            "state": "active",
            "joinTone": false,
            "leavingTone": false,
            "call": "https://localhost:8444/v1/users/{userId}/calls/{callId1}"
    },
    {
            "addedTime": "2013-07-12T15:55:12-02",
            "hold": false,
            "id": "{memberId2}",
            "mute": false,
            "state": "active",
            "joinTone": false,
            "leavingTone": false,
            "call": "https://localhost:8444/v1/users/{userId}/calls/{callId2}"
    },
    {
            "addedTime": "2013-07-12T15:56:12-02",
            "hold": false,
            "id": "{memberId3}",
            "mute": false,
            "removedTime": "2013-07-12T15:56:59-02",
            "state": "completed",
            "joinTone": false,
            "leavingTone": false,
            "call": "https://localhost:8444/v1/users/{userId}/calls/{callId3}"
    }
]
</code></pre>

<h2 id="post-conferences-conferenceid-members-memberid">POST conferences/{conferenceId}/members/{memberId}</h2>

<p>Update a member status/properties.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">joinTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member joins the conference. If <code class="prettyprint">false</code>, no tone is played when the member joins the conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">leavingTone</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, will play a tone when the member leaves the conference. If <code class="prettyprint">false</code>, no tone is played when the member leaves the conference.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">mute</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, member can’t speak in the conference. If <code class="prettyprint">false</code>, this members can speak in the conference (unless set at the conference level).</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">hold</td>
<td style="text-align: left">If <code class="prettyprint">true</code>, member can’t hear or speak in the conference. If <code class="prettyprint">false</code>, member can hear and speak in the conference (unless set at the conference level).</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-remove-member-from-conference">Example: Remove member from conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "state": "completed"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">state</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">state</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){});</span>
</code></pre>

<h3 id="example-keep-member-from-speaking-in-the-conference">Example: Keep member from speaking in the conference</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "mute": "true"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">mute</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">mute</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){});</span>
</code></pre>

<h3 id="example-keep-member-from-hearing-the-conference-audio">Example: Keep member from hearing the conference audio</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "hold": "true"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">hold</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">updateMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="p">{</span><span class="na">hold</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){});</span>
</code></pre>

<h2 id="get-conferences-conferenceid-members-memberid">GET conferences/{conferenceId}/members/{memberId}</h2>

<p>Retrieve a conference member properties.</p>

<h3 id="example-get-conference-member-information">Example: Get conference member information</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">getMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">member</span><span class="p">){});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">getMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">member</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"addedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-12T15:47:04-03"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hold"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{memberId}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mute"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"removedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-12T15:49:11-02"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"joinTone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"leavingTone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"call"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://.../v1/users/{userId}/calls/{callId}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="post-conferences-conferenceid-members-memberid-audio">POST conferences/{conferenceId}/members/{memberId}/audio</h2>

<p>Speak text or play audio to <strong>ONLY</strong> a single conference member.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileUrl</td>
<td style="text-align: left">The location of an audio file to play (WAV and MP3 supported).</td>
<td style="text-align: left">*</td>
</tr>
<tr>
<td style="text-align: left">sentence</td>
<td style="text-align: left">The sentence to speak.</td>
<td style="text-align: left">*</td>
</tr>
<tr>
<td style="text-align: left">gender</td>
<td style="text-align: left">The gender of the voice used to synthesize the sentence. It will be considered only if sentence is not null. The female gender will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">locale</td>
<td style="text-align: left">The locale used to get the accent of the voice used to synthesize the sentence. Currently audio supports: <br> - en_US or en_UK (English) <br> - es or es_MX (Spanish) <br> - fr or fr_FR (French) <br> - de or de_DE (German) <br> - t or it_IT (Italian) It will be considered only if sentence is not null/empty. The en_US will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">voice</td>
<td style="text-align: left">The voice to speak the sentence. Audio currently supports the following voices: <br> - English US: Kate, Susan, Julie, Dave, Paul <br> - English UK: Bridget <br> - Spanish: Esperanza, Violeta, Jorge <br> - French: Jolie, Bernard <br> - German: Katrin, Stefan <br> - Italian: Paola, Luca It will be considered only if sentence is not null/empty. Susan’s voice will be used by default.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">loopEnabled</td>
<td style="text-align: left">When value is <code class="prettyprint">true</code> , the audio will keep playing in a loop. Default: <code class="prettyprint">false</code>.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the events delivered when the audio playback starts or finishes.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<aside class="notice">
* For playing text-to-speech, sentence is required, for playing an audio file, fileUrl is required.
</aside>

<h3 id="example-speak-text-to-a-conference-member">Example: Speak text to a conference member</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "sentence": "Hi there member, I have a message only for you",
        "gender": "female",
        "locale": "en_US",
        "voice": "kate"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Speak sentence</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">speakSentenceToMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">)</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">speakSentenceToMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberID"</span><span class="p">,</span> <span class="s2">"Hello From Bandwidth"</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

  <span class="c1">//Speak sentence with options</span>
  <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sentence</span> <span class="p">:</span> <span class="s2">"hola de Bandwidth"</span><span class="p">,</span>
    <span class="na">gender</span>   <span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="na">locale</span>   <span class="p">:</span> <span class="s2">"es"</span><span class="p">,</span>
    <span class="na">voice</span>    <span class="p">:</span> <span class="s2">"Jorge"</span>
  <span class="p">}</span>
  <span class="c1">//Promise</span>
  <span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvancedToMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

  <span class="c1">//Callback</span>
  <span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvanced</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h3 id="example-play-audio-to-a-conference-member">Example: Play audio to a conference member</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/conferences/<span class="o">{</span>conferenceId<span class="o">}</span>/members/<span class="o">{</span>memberId<span class="o">}</span>/audio <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "fileUrl": "https://catapult.inetwork.com/.../media/{mediaName1}"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//Play Audio file</span>

<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioFileToMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioFileToMember</span><span class="p">(</span><span class="s2">"conferenceID"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="s2">"http://myurl.com/file.wav"</span><span class="p">,</span>
   <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Play Audio File on loop</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fileUrl</span>     <span class="p">:</span> <span class="s2">"http://myurl.com/file.mp3"</span><span class="p">,</span>
    <span class="na">loopEnabled</span> <span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
<span class="c1">//Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvancedToMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Conference</span><span class="p">.</span><span class="nx">playAudioAdvancedToMember</span><span class="p">(</span><span class="s2">"conferenceId"</span><span class="p">,</span> <span class="s2">"memberId"</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

          <h1 id="domains">Domains</h1>

<p>A domain is a way to logically group endpoints. There is a 100 domain max. per account limit. Most use cases require using a single domain for all endpoints. The name of the domain will be part of a public DNS record. For that reason, we let the customer choose their domain names. Once a domain has been created, endpoints can be created and managed within the context of the domain. Because endpoints can only exist within the context of a domain, creating a domain is the first step in creating endpoints.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">The name is a unique URI to be used in DNS lookups</td>
</tr>
<tr>
<td style="text-align: left">description</td>
<td style="text-align: left">String to describe the domain</td>
</tr>
<tr>
<td style="text-align: left">endpoints</td>
<td style="text-align: left">URL to use to GET list of endpoints on this domain.</td>
</tr>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">Unique string to identify the domain resource</td>
</tr>
</tbody></table>

<h2 id="get-domains">GET domains</h2>

<p>This returns a list of the domains that have been created</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Domain</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">domains</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">domains</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
{
    "id" : "dom-xyz123",
        "name" : "mycoolapp",
    "description" : "disruptive app that's going to revolutonize telecom",
        "endpoints" : "/v1/users/{user-id}/domains/dom-xyz123/endpoints"
    },
{
    "id" : "dom-abc876",
        "name" : "mycoolapp_stage",
    "description" : "stage env for disruptive app",
        "endpoints" : "/v1/users/{user-id}/domains/dom-abc876/endpoints"
    }
]
</code></pre>

<h2 id="post-domains">POST domains</h2>

<p>This will create a domain.</p>

<aside class="notice">
Your account is limited to 100 domains per account. Most use cases require using a single domain for all endpoints.
</aside>

<h3 id="example-create-a-domain">Example: Create a domain</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
        -d <span class="se">\</span>
    <span class="s1">'
    {
        "name" : "mycoolapp",
        "description" : "disruptive app that is going to revolutionize telecom"
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"mycoolapp"</span><span class="p">,</span>
  <span class="na">description</span><span class="p">:</span> <span class="s2">"disruptive app that is going to revolutionize telecom"</span>
<span class="p">}</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Domain</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">domainId</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">domainId</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Header structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 201 Created
Location: /v1/users/{user-id}/domains/{domain-id}
</code></pre>

<h2 id="delete-domain">DELETE domain</h2>

<p>This will delete a domain</p>

<h3 id="example-delete-a-domain">Example: Delete a domain</h3>
<pre class="highlight shell"><code>curl -v -X DELETE https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domain/<span class="o">{</span>domain-id<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Domain</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">"{domain-id}"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{});</span>
</code></pre>

          <h1 id="endpoints">Endpoints</h1>

<p>An endpoint represents is an entity that can register with the Application Platform SIP Registrar and place and receive calls. This can be a device like a phone or a pad, or it can be a softphone on a computer.</p>

<p>An endpoint is addressable using a unique SIP URI which is constructed using the endpoint&rsquo;s user name and the domain in which the endpoint exists.</p>

<p>There are no restrictions on the number of SIP clients that can be associated with an endpoint.  That is, an application can create one endpoint in the App Platform and give the SIP URI and credentials to as many of their own clients as it likes.  However, when a call is made to the SIP URI for that endpoint, all clients registered as that endpoint (using that SIP URI and credentials to register) will receive the call.  The call will be completed to the first client that answers.  If you&rsquo;re looking for a default simultaneous ringing application this would be a great solution.  If you have an endpoint that goes directly to voicemail though, you might wonder why your other devices ring but by the time you answer, there&rsquo;s no call.</p>

<p>If you don&rsquo;t want all your SIP clients to ring simultaneously, create an endpoint for each client.  You can still associate a single phone number with a group of clients, but the application has more control over which client will ring when that number is called.</p>

<h2 id="where-to-register">Where to Register</h2>

<p>When an endpoint is created on Bandwidth, a unique SIP URI is created to identify that endpoint.  That SIP URI is used in both the <code class="prettyprint">To</code> and <code class="prettyprint">From</code> headers in the REGISTER message.  The Request URI of the REGISTER message must use the domain from the SIP URI of the client registering.  The domain is resolved via DNS to determine where to send the REGISTER message.</p>

<h2 id="calls-to-a-client">Calls to a Client</h2>

<p>When a new incoming call is to a number the application has associated with one, or some of its clients, the application can initiate an outbound call using the SIP URI.  Any client registered using the credentials associated with that SIP URI will receive the call.  The first one to answer will be connected, on the other clients the call will be canceled.  Once that outbound call is connected, the application can bridge the original inbound call with the newly created outbound call.</p>

<h2 id="calls-from-a-client">Calls from a Client</h2>

<p>When a client wants to initiate a call, it sends an INVITE with the called number in the user part of the SIP URI in the &lsquo;To&rsquo; header.  The &#39;From&rsquo; header will be the SIP URI associated with the endpoint.</p>

<p>An application must be associated with the endpoint representing the client in Bandwidth.  This is so Bandwidth can generate an event to the application to determine how a call should be handled.  If no application is associated with the endpoint, the client&rsquo;s call will be rejected.</p>

<p>Where the INVITE is sent is determined in the same way as the REGISTER.  The domain from the client&rsquo;s SIP URI is used in the Request URI for the INVITE message.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">The endpoint’s name, which SIP clients use as the <code class="prettyprint">address of record</code> in the <code class="prettyprint">To</code> header when registering. The name must be a valid SIP <code class="prettyprint">user</code> or <code class="prettyprint">telephone-subscriber</code> string. RFC 3261 Section 19.1.1 defines the characters that are valid in those parts of a SIP URI. Names must be unique within the domain, and cannot be changed after the endpoint is created.</td>
</tr>
<tr>
<td style="text-align: left">description</td>
<td style="text-align: left">String to describe endpoint</td>
</tr>
<tr>
<td style="text-align: left">domainId</td>
<td style="text-align: left">The id of the domain in which the endpoint will be created. This is the id of the domain resource created in an earlier step.</td>
</tr>
<tr>
<td style="text-align: left">applicationId</td>
<td style="text-align: left">The id of the application associated with this endpoint. Application_id is used to determine the callback URL to be used when a client associated with the endpoint attempts to make a call.</td>
</tr>
<tr>
<td style="text-align: left">enabled</td>
<td style="text-align: left">When set to true, SIP clients can register as this device to receive and make calls. When set to false, registration, inbound, and outbound calling will not succeed. Default is true.</td>
</tr>
<tr>
<td style="text-align: left">credentials</td>
<td style="text-align: left">Contains SIP authentication credentials. See below for details of credentials.</td>
</tr>
<tr>
<td style="text-align: left">sipUri</td>
<td style="text-align: left">A SIP URI this device can be contacted at (via INVITE). This property is generated automatically and cannot be changed.</td>
</tr>
</tbody></table>

<h2 id="credentials">Credentials</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">realm</td>
<td style="text-align: left">The realm the SIP client must use when authenticating to use this device.<br>The realm is case-sensitive.<br>This property is generated automatically and cannot be changed.</td>
</tr>
<tr>
<td style="text-align: left">username</td>
<td style="text-align: left">The username the SIP client must use when authenticating to use this device.<br>The username is case-sensitive.<br>This property is generated automatically and cannot be changed.</td>
</tr>
<tr>
<td style="text-align: left">password</td>
<td style="text-align: left">The plain-text password the SIP client must use when authenticating to use this device.<br>The password is case-sensitive.<br>The password must be at least 6 characters long and contain only Latin 1 (ISO 8859-1) characters.</td>
</tr>
</tbody></table>

<h2 id="get-domains-domain-id-endpoints">GET domains/{domain-id}/endpoints</h2>

<p>This returns a list of all endpoints associated with a domain.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of endpoints. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of endpoints. If no value is specified the default value is 25. (Maximum value 1000)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-a-list-of-all-endpoints-for-a-domain">Example: Get a list of all endpoints for a domain</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains/<span class="o">{</span>domainId<span class="o">}</span>/endpoints <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Default size (25) using promises</span>
 <span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">)</span>
     <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

    <span class="c1">// Default size (25) using callbacks</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Specify number of endpoints using promises</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="p">{</span><span class="na">size</span><span class="p">:</span> <span class="mi">1000</span><span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">// Specify number of endpoints using callbacks</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s2">"domainId"</span> <span class="p">{</span><span class="nl">size</span><span class="p">:</span> <span class="mi">1000</span><span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
{
    "name" : "jsmith-mobile",
    "description" : "John Smiths mobile client",
    "domainId" : "{domain-id}",
    "applicationId" : "{application-id}",
    "enabled" : "true",
    "sipUri" : "jsmith-mobile@doname.bwapp.bwsipp.io",
    "credentials" : {
        "realm" : "doname.bwapp.bwsipp.io",
        "username" : "jsmith-mobile"
    }
}
]
</code></pre>

<h2 id="post-domains-domain-id-endpoints">POST domains/{domain-id}/endpoints</h2>

<p>This creates an endpoint.</p>

<h3 id="example-create-an-endpoint">Example: Create an endpoint</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains/<span class="o">{</span>domain-id<span class="o">}</span>/endpoints <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "name" : "jsmith_mobile",
        "description" : "John Smiths mobile client",
        "domainId" : "{domain-id}",
        "applicationId" : "{application-id}",
        "enabled" : "false",
        "credentials" : { "password" : "abc123" }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span> <span class="p">:</span> <span class="s2">"my-endpoint"</span><span class="p">,</span> <span class="na">applicationId</span> <span class="p">:</span> <span class="s2">"appId"</span><span class="p">,</span>
<span class="na">credentials</span> <span class="p">:</span> <span class="p">{</span> <span class="na">password</span> <span class="p">:</span> <span class="s2">"123456"</span> <span class="p">}}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span> <span class="p">:</span> <span class="s2">"my-endpoint"</span><span class="p">,</span> <span class="na">applicationId</span> <span class="p">:</span> <span class="s2">"appId"</span><span class="p">,</span>
<span class="na">credentials</span> <span class="p">:</span> <span class="p">{</span> <span class="na">password</span> <span class="p">:</span> <span class="s2">"123456"</span> <span class="p">}},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<blockquote>
<p>The above command returns HTTP Header structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 201 Created
Location: /v1/users/{user-id}/domains/{domain-id}/endpoints/{endpoint-id}
</code></pre>

<h2 id="get-domains-domain-id-endpoints-endpoint-id">GET domains/{domain-id}/endpoints/{endpoint-id}</h2>

<p>This returns a single endpoint.</p>

<h3 id="example-get-a-single-endpoint">Example: Get a single endpoint</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains/<span class="o">{</span>domain-id<span class="o">}</span>/endpoints/<span class="o">{</span>endpoint-id<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">domainId</span><span class="p">,</span> <span class="nx">endpointId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">){});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">domainId</span><span class="p">,</span> <span class="nx">endpointId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"jsmith-mobile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smiths mobile client"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"domainId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{domain-id}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"applicationId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{application-id}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sipUri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"jsmith-mobile@doname.bwapp.bwsipp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"credentials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"realm"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"doname.bwapp.bwsipp.io"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"jsmith-mobile"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="delete-domains-domain-id-endpoints-endpoint-id">DELETE domains/{domain-id}/endpoints/{endpoint-id}</h2>

<h3 id="example-remove-an-endpoint">Example: Remove an endpoint</h3>
<pre class="highlight shell"><code>curl -v -X DELETE https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains/<span class="o">{</span>domain-id<span class="o">}</span>/endpoints/<span class="o">{</span>endpoint-id<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="s2">"endpointId"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="s2">"endpointId"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

<h2 id="post-domains-domain-id-endpoints-endpoint-id">POST domains/{domain-id}/endpoints/{endpoint-id}</h2>

<p>This will update an endpoint.</p>

<h3 id="example-update-an-endpoint">Example: Update an endpoint</h3>
<pre class="highlight shell"><code>curl -v -X POST https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/domains/<span class="o">{</span>domain-id<span class="o">}</span>/endpoints/<span class="o">{</span>endpoint-id<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
    -d <span class="se">\</span>
    <span class="s1">'
    {
        "description" : "John Smiths mobile client",
        "applicationId" : "{application-id}",
        "enabled" : "true",
            "credentials" : {
            "password" : "12345"
        }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="s2">"endpointId"</span><span class="p">,</span> <span class="p">{</span> <span class="na">enabled</span> <span class="p">:</span> <span class="kc">true</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">Endpoint</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="s2">"domainId"</span><span class="p">,</span> <span class="s2">"endpointId"</span><span class="p">,</span> <span class="p">{</span> <span class="na">enabled</span> <span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>

          <h1 id="errors">Errors</h1>

<p>The Errors resource lets you see information about errors that happened in your API calls and during applications callbacks. This error information can be very helpful when you&rsquo;re debugging an application. Because error information can be large, and errors in the distant past are less useful than new ones, Bandwidth API limits the number of user errors it keeps.</p>

<h2 id="error-properties">Error Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique id for the error.</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the error occurred (UTC).</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">The error category, one of:<br><code class="prettyprint">authentication</code> - The requestor could not be authenticated. Incorrect or disabled credentials are common causes of these errors. <br><code class="prettyprint">authorization</code> - The requestor does not have sufficient permissions to perform the operation or access the resource, or some other authorization error occurred.<br> <code class="prettyprint">not-found</code> - The resource could not be found. <br><code class="prettyprint">bad-request</code> - The request information sent could not be understood or contained values that are not allowed.<br><code class="prettyprint">conflict</code> - The resource could not be modified because it was already modified by a different request.<br><code class="prettyprint">unavailable</code> - The resource or service is currently unavailable. It may become available shortly, or the request may have to be modified to succeed.<br><code class="prettyprint">credit</code> - The requestor has insufficient credit to perform the operation or access the resource.<br><code class="prettyprint">limit</code> - A usage limit or rate limit for a resource or service has been exceeded.<br><code class="prettyprint">payment</code> - There was an error processing a payment.</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">A specific error code string that identifies the type of error.</td>
</tr>
<tr>
<td style="text-align: left">message</td>
<td style="text-align: left">A message that describes the error condition in detail.</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">A list of name/value pairs of additional details that may help you debug the error.</td>
</tr>
</tbody></table>

<h2 id="error-details-properties">Error Details Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">The detail name; there is no complete list of detail names, but conventional resource ID names like userId are used to refer to resources associated with the error.</td>
</tr>
<tr>
<td style="text-align: left">value</td>
<td style="text-align: left">The detail value; the format and content depends on the name.</td>
</tr>
</tbody></table>

<h2 id="get-errors">GET errors</h2>

<p>Gets the most recent user errors for the user. Since this operation uses HTTP GET, all the properties are specified as HTTP request parameters.</p>

<h3 id="supported-parameters">Supported Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of user errors. If no value is specified the default is 0.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of user errors. If no value is specified the default value is 25. (Maximum value 1000)</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-get-errors">Example: Get errors</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/errors <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nb">Error</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span><span class="na">size</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorResponse</span><span class="p">){});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nb">Error</span><span class="p">.</span><span class="nx">list</span><span class="p">({</span><span class="na">size</span><span class="p">:</span> <span class="mi">1000</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">errorResponse</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
   {
      "time" : "2012-11-15T01:30:16.208Z",
      "category" : "unavailable",
      "id" : "{userErrorId1}",
      "details" : [
         {
            "id" : "{userErrorDetailId1}"
            "name" : "applicationId",
            "value" : "{applicationId}",
         },
         {
            "id" : "{userErrorDetailId2}"
            "name" : "number",
            "value" : "{number}",
         },
         {
            "id" : "{userErrorDetailId3}"
            "name" : "callId",
            "value" : "{callId}",
         }
      ],
      "message" : "Application {applicationId} (\"Dial a Tune\") for number
                   {number} does not specify a URL for call events",
      "code" : "no-callback-for-call"
   },
   {
      "time" : "2012-11-15T01:29:24.512Z",
      "category" : "unavailable",
      "id" : "{userErrorId2}",
      "message" : "No application is configured for number +19195556666",
      "code" : "no-application-for-number"
   },
]
</code></pre>

<h2 id="get-errors-usererrorid">GET errors/{userErrorId}</h2>

<p>Gets information about one error. No query parameters are supported.</p>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/errors/<span class="o">{</span>userErrorId<span class="o">}</span> <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Promise</span>
<span class="nx">client</span><span class="p">.</span><span class="nb">Error</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">userErrorId</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorInfo</span><span class="p">){});</span>

<span class="c1">// Callback</span>
<span class="nx">client</span><span class="p">.</span><span class="nb">Error</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">userErrorId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">){});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{userErrorId}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"@id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountNonExpired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountNonLocked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{companyName}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"credentialsNonExpired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{email}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{firstName}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{userId}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{lastName}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{password}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{username}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1391514755496</span><span class="p">,</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAD_REQUEST"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing-property"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The 'call' resource property 'transferTo' is required but was not specified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{userErrorDetailId1}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"requestPath"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users/{userId}/calls/{callId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{userErrorDetailId2}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"remoteAddress"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{remoteAddress}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{userErrorDetailId3}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"requestMethod"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="media">Media</h1>

<p>The Media resource lets you upload your media files to Bandwidth API servers so they can be used in applications without requiring a separate hosting provider. You can upload files up to <code class="prettyprint">65MB</code> and file storage is free for an unlimited number of files. Files you upload can only be accessed by you when you supply your API access <code class="prettyprint">token</code> and <code class="prettyprint">secret</code>. They are not available to anonymous users. Bandwidth API supports the <code class="prettyprint">Cache-Control</code> header when you upload files.</p>

<aside class="notice">
You can upload files up to `65MB` and file storage is free for an unlimited number of files.
</aside>

<h2 id="get-media">GET media</h2>

<p>Gets a list of your media files. No query parameters are supported.</p>

<h3 id="example-list-your-media-files">Example: List Your Media Files</h3>
<pre class="highlight shell"><code>curl -v -X GET https://api.catapult.inetwork.com/v1/users/<span class="o">{</span>userId<span class="o">}</span>/media <span class="se">\</span>
    -u <span class="o">{</span>token<span class="o">}</span>:<span class="o">{</span>secret<span class="o">}</span> <span class="se">\</span>
    -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">Media</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">media</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">media</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "contentLength": 561276,
    "mediaName": "{mediaName1}",
    "content": "api.catapult.inetwork.com/.../media/{mediaName1}"
  },
  {
    "contentLength": 2703360,
    "mediaName": "{mediaName2}",
    "content": "https://api.catapult.inetwork.com/.../media/{mediaName2}"
  },
  {
    "contentLength": 2257901,
    "mediaName": "{mediaName3}",
        "content": "https://api.catapult.inetwork.com/.../media/{mediaName3}"
  }
]
</code></pre>

<h2 id="put-media-medianame">PUT media/{mediaName}</h2>

<p>Uploads a file the normal HTTP way. You may add headers to the request in order to provide some control to your media-file.</p>

<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Content-Length</td>
<td style="text-align: left">Indicates the size of the entity-body.</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">Cache-Control</td>
<td style="text-align: left">General-header field is used to specify directives that MUST be obeyed by all caching mechanisms along the request/response chain.</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">Content-Type</td>
<td style="text-align: left">The media type of the entity-body.</td>
<td style="text-align: left">No</td>
</tr>
</tbody></table>

<h3 id="example-upload-an-mp3-file">Example: Upload an MP3 File</h3>

<h2 id="get-media-medianame">GET media/{mediaName}</h2>

<p>Downloads a media file you previously uploaded.</p>

<h3 id="example-download-an-mp3-file">Example: Download an MP3 File</h3>

<h2 id="delete-media-medianame">DELETE media/{mediaName}</h2>

<p>Deletes a media file from Bandwidth API server. Make sure you don&rsquo;t have any application scripts still using the media before you delete. If you accidentally delete a media file, you can immediately upload a new file with the same name.</p>

<h3 id="example-delete-an-mp3-file">Example: Delete an MP3 File</h3>

          <h1 id="messages">Messages</h1>

<p>The Messages resource lets you send SMS/MMS messages and view messages that were previously sent or received.</p>

<h2 id="properties">Properties</h2>

<table><thead>
<tr>
<th style="text-align: left">Property</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">The unique ID of the message.</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">The message sender’s telephone number (or short code).</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">Message recipient telephone number (or short code).</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">Direction of message, in - a message that came from the telephone network to one of your numbers (an “inbound” message) or out - a message that was sent from one of your numbers to the telephone network (an “outbound” message)</td>
</tr>
<tr>
<td style="text-align: left">text</td>
<td style="text-align: left">The message contents. NOTE: We only store the message contents for 30 days. Any messages older than 30 days will not contain text.</td>
</tr>
<tr>
<td style="text-align: left">media</td>
<td style="text-align: left">Json array containing list of media urls to be sent as content for an mms. Valid URLs are: <br> https://api.catapult.inetwork.com/v1/users/&lt;user-id&gt;/media/<media-name></media-name> <br>We also support media URLs that are external to Bandwidth API, http:// or https:// format: <br> Example: http://customer-web-site.com/file.jpg <br> And coming soon, we are going to use file name from Content-Disposition header in case it’s passed by the media URLs that are external to Bandwidth API.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Message state, values are:  <br> * <code class="prettyprint">received</code><br> * <code class="prettyprint">queued</code><br> * <code class="prettyprint">sending</code><br> * <code class="prettyprint">sent</code> <br> * <code class="prettyprint">error</code></td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">The time the message resource was created (UTC, follows the ISO 8601 format).</td>
</tr>
<tr>
<td style="text-align: left">callbackUrl</td>
<td style="text-align: left">The complete URL where the events related to the outgoing message will be sent.</td>
</tr>
<tr>
<td style="text-align: left">callbackTimeout</td>
<td style="text-align: left">Determine how long should the platform wait for callbackUrl’s response before timing out (milliseconds).</td>
</tr>
<tr>
<td style="text-align: left">fallbackUrl</td>
<td style="text-align: left">The server URL used to send message events if the request to callbackUrl fails.</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">Used for pagination to indicate the page requested for querying a list of messages. If no value is specified the default is 0.</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">Used for pagination to indicate the size of each page requested for querying a list of messages. If no value is specified the default value is 25. (Maximum value 1000)</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">A string that will be included in the callback events of the message.</td>
</tr>
<tr>
<td style="text-align: left">receiptRequested</td>
<td style="text-align: left">Requested receipt option for outbound messages: <code class="prettyprint">none</code> <code class="prettyprint">all</code> <code class="prettyprint">error</code> Default is <code class="prettyprint">none</code>.</td>
</tr>
<tr>
<td style="text-align: left">deliveryState</td>
<td style="text-align: left">One of the message delivery states <code class="prettyprint">waiting</code> <code class="prettyprint">delivered</code> <code class="prettyprint">not-delivered</code></td>
</tr>
<tr>
<td style="text-align: left">deliveryCode</td>
<td style="text-align: left">Numeric value of deliver code, see table for values.</td>
</tr>
<tr>
<td style="text-align: left">deliveryDescription</td>
<td style="text-align: left">Message delivery description for the respective delivery code</td>
</tr>
</tbody></table>

<h2 id="message-request-receipt">Message Request Receipt</h2>

<table><thead>
<tr>
<th style="text-align: left">Receipt</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">none</td>
<td style="text-align: left">Delivery receipt will not be sent as callback event.</td>
</tr>
<tr>
<td style="text-align: left">error</td>
<td style="text-align: left">Only error delivery receipt event maybe sent as callback event.</td>
</tr>
<tr>
<td style="text-align: left">all</td>
<td style="text-align: left">Success or error delivery receipt maybe sent as callback event.</td>
</tr>
</tbody></table>

<h2 id="message-states">Message States</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">received</td>
<td style="text-align: left">The message was received.</td>
</tr>
<tr>
<td style="text-align: left">queued</td>
<td style="text-align: left">The message is waiting in queue and will be sent soon.</td>
</tr>
<tr>
<td style="text-align: left">sending</td>
<td style="text-align: left">The message was removed from queue and is being sent.</td>
</tr>
<tr>
<td style="text-align: left">sent</td>
<td style="text-align: left">The message was sent successfully.</td>
</tr>
<tr>
<td style="text-align: left">error</td>
<td style="text-align: left">There was an error sending or receiving a message (check errors resource for details).</td>
</tr>
</tbody></table>

<h2 id="message-delivery-state">Message Delivery State</h2>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">waiting</td>
<td style="text-align: left">Waiting for receipt.</td>
</tr>
<tr>
<td style="text-align: left">delivered</td>
<td style="text-align: left">Receipt indicating that message was delivered.</td>
</tr>
<tr>
<td style="text-align: left">not-delivered</td>
<td style="text-align: left">Receipt indicating that message was not delivered.</td>
</tr>
</tbody></table>

<h2 id="message-delivery-code">Message Delivery Code</h2>

<table><thead>
<tr>
<th style="text-align: left">Code</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">0</td>
<td style="text-align: left">Message delivered to carrier</td>
</tr>
<tr>
<td style="text-align: left">100</td>
<td style="text-align: left">Message not delivered to carrier</td>
</tr>
<tr>
<td style="text-align: left">187</td>
<td style="text-align: left">Statistical spam detected</td>
</tr>
<tr>
<td style="text-align: left">188</td>
<td style="text-align: left">Keyword spam detected</td>
</tr>
<tr>
<td style="text-align: left">189</td>
<td style="text-align: left">Spam detected</td>
</tr>
<tr>
<td style="text-align: left">482</td>
<td style="text-align: left">Loop detected</td>
</tr>
<tr>
<td style="text-align: left">600</td>
<td style="text-align: left">Destination carrier could not accept messages</td>
</tr>
<tr>
<td style="text-align: left">610</td>
<td style="text-align: left">Message submittion failed</td>
</tr>
<tr>
<td style="text-align: left">620</td>
<td style="text-align: left">Destination application error</td>
</tr>
<tr>
<td style="text-align: left">630</td>
<td style="text-align: left">Message not acknowledge</td>
</tr>
<tr>
<td style="text-align: left">720</td>
<td style="text-align: left">Invalid destination number</td>
</tr>
<tr>
<td style="text-align: left">740</td>
<td style="text-align: left">Invalid source number</td>
</tr>
<tr>
<td style="text-align: left">999</td>
<td style="text-align: left">Unknown error</td>
</tr>
</tbody></table>

<h2 id="multiple-message-result-types">Multiple Message Result Types</h2>

          
          
          
          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="javascript">NodeJS</a>
          </div>
      </div>
    </div>
  </body>
</html>
